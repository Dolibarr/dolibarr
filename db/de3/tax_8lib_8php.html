<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dolibarr: htdocs/core/lib/tax.lib.php File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dolibarr
   &#160;<span id="projectnumber">x.y.z</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_eaa9681d2effa5cf690be6ac05e74743.html">htdocs</a></li><li class="navelem"><a class="el" href="../../dir_dbb7cc76f4d8f56337f997fc682508aa.html">core</a></li><li class="navelem"><a class="el" href="../../dir_e03de4b84004d48b9a181b9b61e6f2c2.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tax.lib.php File Reference<div class="ingroups"><a class="el" href="../../d2/d21/group__tax.html">Module Loans</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Library for tax module.  
<a href="#details">More...</a></p>

<p><a href="../../db/de3/tax_8lib_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9c92d74f88bb945ab2664b42fadd99f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de3/tax_8lib_8php.html#a9c92d74f88bb945ab2664b42fadd99f0">tax_prepare_head</a> (<a class="el" href="../../dd/d70/class_charge_sociales.html">ChargeSociales</a> $object)</td></tr>
<tr class="memdesc:a9c92d74f88bb945ab2664b42fadd99f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare array with list of tabs.  <a href="../../db/de3/tax_8lib_8php.html#a9c92d74f88bb945ab2664b42fadd99f0">More...</a><br /></td></tr>
<tr class="separator:a9c92d74f88bb945ab2664b42fadd99f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4175847cca4db5c1057a019cbe54a0b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de3/tax_8lib_8php.html#a4175847cca4db5c1057a019cbe54a0b1">tax_by_thirdparty</a> ($<a class="el" href="../../d1/d2d/repair_8php.html#a26b9bb9361f70fb8747a8c3e18653135">type</a>, $<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>, $y, $date_start, $date_end, $modetax, $direction, $m=0, $q=0)</td></tr>
<tr class="memdesc:a4175847cca4db5c1057a019cbe54a0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for collectable VAT clients in the chosen year (and month)  <a href="../../db/de3/tax_8lib_8php.html#a4175847cca4db5c1057a019cbe54a0b1">More...</a><br /></td></tr>
<tr class="separator:a4175847cca4db5c1057a019cbe54a0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d264ad2a06ef270aa28fd74ca119f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de3/tax_8lib_8php.html#a09d264ad2a06ef270aa28fd74ca119f1">tax_by_rate</a> ($<a class="el" href="../../d1/d2d/repair_8php.html#a26b9bb9361f70fb8747a8c3e18653135">type</a>, $<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>, $y, $q, $date_start, $date_end, $modetax, $direction, $m=0)</td></tr>
<tr class="memdesc:a09d264ad2a06ef270aa28fd74ca119f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets Tax to collect for the given year (and given quarter or month) The function gets the Tax in split results, as the Tax declaration asks to report the amounts for different Tax rates as different lines.  <a href="../../db/de3/tax_8lib_8php.html#a09d264ad2a06ef270aa28fd74ca119f1">More...</a><br /></td></tr>
<tr class="separator:a09d264ad2a06ef270aa28fd74ca119f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library for tax module. </p>

<p class="definition">Definition in file <a class="el" href="../../db/de3/tax_8lib_8php_source.html">tax.lib.php</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a09d264ad2a06ef270aa28fd74ca119f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d264ad2a06ef270aa28fd74ca119f1">&#9670;&nbsp;</a></span>tax_by_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tax_by_rate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$date_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$date_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$modetax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$m</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets Tax to collect for the given year (and given quarter or month) The function gets the Tax in split results, as the Tax declaration asks to report the amounts for different Tax rates as different lines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>Tax type, either 'vat', 'localtax1' or 'localtax2' </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/d98/class_doli_d_b.html" title="Class to manage Dolibarr database access.">DoliDB</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database.">Database</a> handler object </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y</td><td>Year </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$q</td><td>Quarter </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$date_start</td><td>Start date </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$date_end</td><td>End date </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$modetax</td><td>Not used </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$direction</td><td>'sell' (customer invoice) or 'buy' (supplier invoices) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$m</td><td>Month </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|int Array with details of VATs (per rate), -1 if no accountancy module, -2 if not yet developped, -3 if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de3/tax_8lib_8php_source.html#l00699">699</a> of file <a class="el" href="../../db/de3/tax_8lib_8php_source.html">tax.lib.php</a>.</p>

</div>
</div>
<a id="a4175847cca4db5c1057a019cbe54a0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4175847cca4db5c1057a019cbe54a0b1">&#9670;&nbsp;</a></span>tax_by_thirdparty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tax_by_thirdparty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$date_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$date_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$modetax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$m</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$q</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for collectable VAT clients in the chosen year (and month) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>Tax type, either 'vat', 'localtax1' or 'localtax2' </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/d98/class_doli_d_b.html" title="Class to manage Dolibarr database access.">DoliDB</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database.">Database</a> handle </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y</td><td>Year </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$date_start</td><td>Start date </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$date_end</td><td>End date </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$modetax</td><td>Not used </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td>'sell' or 'buy' </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$m</td><td>Month </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$q</td><td>Quarter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|int Array with details of VATs (per third parties), -1 if no accountancy module, -2 if not yet developped, -3 if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de3/tax_8lib_8php_source.html#l00112">112</a> of file <a class="el" href="../../db/de3/tax_8lib_8php_source.html">tax.lib.php</a>.</p>

</div>
</div>
<a id="a9c92d74f88bb945ab2664b42fadd99f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c92d74f88bb945ab2664b42fadd99f0">&#9670;&nbsp;</a></span>tax_prepare_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tax_prepare_head </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d70/class_charge_sociales.html">ChargeSociales</a>&#160;</td>
          <td class="paramname"><em>$object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare array with list of tabs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dd/d70/class_charge_sociales.html" title="Classe permettant la gestion des paiements des charges La tva collectee n&#39;est calculee que sur les fa...">ChargeSociales</a></td><td class="paramname">$object</td><td>Object related to tabs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Array of tabs to show </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/de3/tax_8lib_8php_source.html#l00038">38</a> of file <a class="el" href="../../db/de3/tax_8lib_8php_source.html">tax.lib.php</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- 
File added into doxygen generated documentation
-->
<hr class="footer" />
<address class="footer"><small>Generated on Wed Jan 4 2023 15:02:39 for <a href="https://www.dolibarr.org" title="ERP and CRM open source software">dolibarr</a> by Doxygen 1.9.1 </small></address>
<br>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9049390-16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-9049390-16');
</script>
</body>
</html>