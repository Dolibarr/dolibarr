/*!
 * FullCalendar-Resourceviews v1.6.4.1
 * Docs & License: http://arshaw.com/fullcalendar/, http://tux.fi/~jarnok/fullcalendar-resourceviews
 * (c) 2013 Adam Shaw, 2013 Jarno Kurlin (Resource Views)
 */
(function(e,t){function n(t){e.extend(!0,xt,t)}function r(n,r,l){function f(e){ct?y()&&(E(),k(e)):d()}function d(){ut=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),ct=e("<div class='fc-content' style='position:relative'/>").prependTo(n),it=new a(ot,r),st=it.render(),st&&n.prepend(st),D(r.defaultView),r.handleWindowResize&&e(window).resize(R),m()||h()}function h(){setTimeout(function(){!lt.start&&m()&&C()},0)}function g(){lt&&(at("viewDestroy",lt,lt,lt.element),lt.triggerEventDestroy()),e(window).unbind("resize",R),it.destroy(),ct.remove(),n.removeClass("fc fc-rtl ui-widget")}function y(){return n.is(":visible")}function m(){return e("body").is(":visible")}function D(e){lt&&e==lt.name||M(e)}function M(t){Dt++,lt&&(at("viewDestroy",lt,lt,lt.element),I(),lt.triggerEventDestroy(),et(),lt.element.remove(),it.deactivateButton(lt.name)),it.activateButton(t),lt=new Ht[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(ct),ot),C(),tt(),Dt--}function C(e){(!lt.start||e||lt.start>wt||wt>=lt.end)&&y()&&k(e)}function k(e){Dt++,lt.start&&(at("viewDestroy",lt,lt,lt.element),I(),F()),et(),lt.render(wt,e||0),T(),tt(),(lt.afterRender||L)(),_(),j(),at("viewRender",lt,lt,lt.element),lt.trigger("viewDisplay",yt),Dt--,z()}function S(){y()&&(I(),F(),E(),T(),W())}function E(){dt=r.contentHeight?r.contentHeight:r.height?r.height-(st?st.height():0)-H(ct):Math.round(ct.width()/Math.max(r.aspectRatio,.5))}function T(){dt===t&&E(),Dt++,lt.setHeight(dt),lt.setWidth(ct.width()),Dt--,ft=n.outerWidth()}function R(){if(!Dt)if(lt.start){var e=++mt;setTimeout(function(){e==mt&&!Dt&&y()&&ft!=(ft=n.outerWidth())&&(Dt++,S(),lt.trigger("windowResize",yt),Dt--)},200)}else h()}function x(){F(),O()}function N(e){F(),W(e)}function W(e){y()&&(lt.setEventData(bt),lt.renderEvents(bt,e),lt.trigger("eventAfterAllRender"))}function F(){lt.triggerEventDestroy(),lt.clearEvents(),lt.clearEventData()}function z(){!r.lazyFetching||ht(lt.visStart,lt.visEnd)?(r.refetchResources&&A(),O()):W()}function O(){gt(lt.visStart,lt.visEnd)}function A(){pt(!1,lt)}function q(e){bt=e,W()}function P(e){N(e)}function _(){it.updateTitle(lt.title)}function j(){var e=new Date;e>=lt.start&&lt.end>e?it.disableButton("today"):it.enableButton("today")}function B(e,n,r){lt.select(e,n,r===t?!0:r)}function I(){lt&&lt.unselect()}function Y(){C(-1)}function V(){C(1)}function X(){C(-100)}function J(){C(100)}function U(){s(wt,-1),C()}function Z(){s(wt,1),C()}function G(){wt=new Date,C()}function $(e,t,n){e instanceof Date?wt=v(e):p(wt,e,t,n),C()}function Q(e,n,r){e!==t&&s(wt,e),n!==t&&c(wt,n),r!==t&&u(wt,r),C()}function K(){return v(wt)}function et(){ct.css({width:"100%",height:ct.height(),overflow:"hidden"})}function tt(){ct.css({width:"",height:"",overflow:""})}function nt(){return lt}function rt(e,n){return n===t?r[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(r[e]=n,S()),t)}function at(e,n){return r[e]?r[e].apply(n||yt,Array.prototype.slice.call(arguments,2)):t}var ot=this;ot.options=r,ot.render=f,ot.destroy=g,ot.refetchEvents=x,ot.reportEvents=q,ot.refetchResources=A,ot.reportEventChange=P,ot.rerenderEvents=N,ot.changeView=D,ot.select=B,ot.unselect=I,ot.prev=Y,ot.next=V,ot.largePrev=X,ot.largeNext=J,ot.prevYear=U,ot.nextYear=Z,ot.today=G,ot.gotoDate=$,ot.incrementDate=Q,ot.formatDate=function(e,t){return w(e,t,r)},ot.formatDates=function(e,t,n){return b(e,t,n,r)},ot.getDate=K,ot.getView=nt,ot.option=rt,ot.trigger=at,o.call(ot,r,l),i.call(ot,r);var it,st,ct,ut,lt,ft,dt,vt,ht=ot.isFetchNeeded,gt=ot.fetchEvents,pt=ot.fetchResources,yt=n[0],mt=0,Dt=0,wt=new Date,bt=[];p(wt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var a=t.target,o=e(a);if(!o.parents(".fc").length){var i=r.dropAccept;(e.isFunction(i)?i.call(a,o):o.is(i))&&(vt=a,lt.dragStart(vt,t,n))}}).bind("dragstop",function(e,t){vt&&(lt.dragStop(vt,e,t),vt=null)})}function a(n,r){function a(){v=r.theme?"ui":"fc";var n=r.header;return n?h=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(i("left")).append(i("center")).append(i("right"))):t}function o(){h.remove()}function i(t){var a=e("<td class='fc-header-"+t+"'/>"),o=r.header[t];return o&&e.each(o.split(" "),function(t){t>0&&a.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(t,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(v+"-corner-right"),o=null;else{var s;if(n[i]?s=n[i]:Ht[i]&&(s=function(){l.removeClass(v+"-state-hover"),n.changeView(i)}),s){var c=r.theme?_(r.buttonIcons,i):null,u=_(r.buttonText,i),l=e("<span class='fc-button fc-button-"+i+" "+v+"-state-default'>"+(c?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+c+"'/>"+"</span>":u)+"</span>").click(function(){l.hasClass(v+"-state-disabled")||s()}).mousedown(function(){l.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){l.removeClass(v+"-state-down")}).hover(function(){l.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){l.removeClass(v+"-state-hover").removeClass(v+"-state-down")}).appendTo(a);B(l),o||l.addClass(v+"-corner-left"),o=l}}}),o&&o.addClass(v+"-corner-right")}),a}function s(e){h.find("h2").html(e)}function c(e){h.find("span.fc-button-"+e).addClass(v+"-state-active")}function u(e){h.find("span.fc-button-"+e).removeClass(v+"-state-active")}function l(e){h.find("span.fc-button-"+e).addClass(v+"-state-disabled")}function f(e){h.find("span.fc-button-"+e).removeClass(v+"-state-disabled")}var d=this;d.render=a,d.destroy=o,d.updateTitle=s,d.activateButton=c,d.deactivateButton=u,d.disableButton=l,d.enableButton=f;var v,h=e([])}function o(n,r){function a(e,t){return!k||k>e||t>S}function o(e,t){k=v(e),S=v(t),z=[];var n=++W,r=N.length;H=r;for(var a=0;r>a;a++)i(N[a],n)}function i(t,r){s(t,function(a){if(r==W){if(a){n.eventDataTransform&&(a=e.map(a,n.eventDataTransform)),t.eventDataTransform&&(a=e.map(a,t.eventDataTransform));for(var o=0;a.length>o;o++)a[o].source=t,D(a[o]);z=z.concat(a)}H--,H||R(z)}})}function s(r,a){var o,i,c=Wt.sourceFetchers;for(o=0;c.length>o;o++){if(i=c[o](r,k,S,a),i===!0)return;if("object"==typeof i)return s(i,a),t}var u=r.events;if(u)e.isFunction(u)?(p(),u(v(k),v(S),function(e){a(e),m()})):e.isArray(u)?a(u):a();else{var l=r.url;if(l){var f,d=r.success,h=r.error,g=r.complete;f=e.isFunction(r.data)?r.data():r.data;var y=e.extend({},f||{}),D=X(r.startParam,n.startParam),w=X(r.endParam,n.endParam);D&&(y[D]=Math.round(+k/1e3)),w&&(y[w]=Math.round(+S/1e3)),p(),e.ajax(e.extend({},Ft,r,{data:y,success:function(t){t=t||[];var n=V(d,this,arguments);e.isArray(n)&&(t=n),a(t)},error:function(){V(h,this,arguments),a()},complete:function(){V(g,this,arguments),m()}}))}else a()}}function c(e){e=u(e),e&&(H++,i(e,W))}function u(n){return e.isFunction(n)||e.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),N.push(n),n):t}function l(t){N=e.grep(N,function(e){return!b(e,t)}),z=e.grep(z,function(e){return!b(e.source,t)}),R(z)}function f(e){var t,n,r=z.length,a=T().defaultEventEnd,o=e.start-e._start,i=e.end?e.end-(e._end||a(e)):0;for(t=0;r>t;t++)n=z[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+o),n.end=e.end?n.end?new Date(+n.end+i):new Date(+a(n)+i):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroundColor=e.backgroundColor,n.borderColor=e.borderColor,n.textColor=e.textColor,D(n));D(e),R(z)}function d(e,t){D(e),e.source||(t&&(x.events.push(e),e.source=x),z.push(e)),R(z)}function h(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}z=e.grep(z,t,!0);for(var r=0;N.length>r;r++)e.isArray(N[r].events)&&(N[r].events=e.grep(N[r].events,t,!0))}else{z=[];for(var r=0;N.length>r;r++)e.isArray(N[r].events)&&(N[r].events=[])}R(z)}function g(t){return e.isFunction(t)?e.grep(z,t):t?(t+="",e.grep(z,function(e){return e._id==t})):z}function p(){F++||E("loading",null,!0,T())}function m(){--F||E("loading",null,!1,T())}function D(e){var r=e.source||{},a=X(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+zt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=v(e.start=y(e.start,a)),e.end=y(e.end,a),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?v(e.end):null,e.allDay===t&&(e.allDay=X(r.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Wt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}function b(e,t){return e&&t&&M(e)==M(t)}function M(e){return("object"==typeof e?e.events||e.url:"")||e}var C=this;C.isFetchNeeded=a,C.fetchEvents=o,C.addEventSource=c,C.removeEventSource=l,C.updateEvent=f,C.renderEvent=d,C.removeEvents=h,C.clientEvents=g,C.normalizeEvent=D;for(var k,S,E=C.trigger,T=C.getView,R=C.reportEvents,x={events:[]},N=[x],W=0,H=0,F=0,z=[],O=0;r.length>O;O++)u(r[O])}function i(n){function r(t){var n={};if(e.isFunction(t))n={resources:t},u.push(n);else if("string"==typeof t)n={url:t},u.push(n);else if("object"==typeof t)for(var r=0;t.length>r;r++){var a=t[r];i(a),n={resources:a},u.push(n)}}function a(e,n){if(e=e!==t?e:!0,c!=t&&e)return c;c=[];for(var r=u.length,a=0;r>a;a++){var i=o(u[a],n);c=c.concat(i)}return c}function o(t,r){var a=t.resources;if(a){if(e.isFunction(a))return a()}else{var o=t.url;if(o){var i={};if("object"==typeof r){var s=n.startParam,c=n.endParam;s&&(i[s]=Math.round(+r.visStart/1e3)),c&&(i[c]=Math.round(+r.visEnd/1e3))}e.ajax(e.extend({},t,{data:i,dataType:"json",cache:!1,success:function(e){e=e||[],a=e},error:function(){alert("ajax error getting json from "+o)},async:!1}))}}return a}function i(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Wt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}var s=this;s.fetchResources=a;var c,u=[];r(n.resources)}function s(e,t,n){return e.setFullYear(e.getFullYear()+t),n||d(e),e}function c(e,t,n){if(+e){var r=e.getMonth()+t,a=v(e);for(a.setDate(1),a.setMonth(r),e.setMonth(r),n||d(e);e.getMonth()!=a.getMonth();)e.setDate(e.getDate()+(a>e?1:-1))}return e}function u(e,t,n){if(+e){var r=e.getDate()+t,a=v(e);a.setHours(9),a.setDate(r),e.setDate(r),n||d(e),l(e,a)}return e}function l(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*At)}function f(e,t){return e.setMinutes(e.getMinutes()+t),e}function d(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function v(e,t){return t?d(new Date(+e)):new Date(+e)}function h(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function g(e,t){return Math.round((v(e,!0)-v(t,!0))/Lt)}function p(e,n,r,a){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),a!==t&&e.setDate(a)}function y(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),m(e,n)||(e?new Date(e):null)):null}function m(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),l(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),l(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,r=new Date(+r+1e3*60*o)}return r}function D(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function w(e,t,n){return b(e,null,t,n)}function b(e,t,n,r){r=r||xt;var a,o,i,s,c=e,u=t,l=n.length,f="";for(a=0;l>a;a++)if(o=n.charAt(a),"'"==o){for(i=a+1;l>i;i++)if("'"==n.charAt(i)){c&&(f+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;l>i;i++)if(")"==n.charAt(i)){var d=w(c,n.substring(a+1,i),r);parseInt(d.replace(/\D/,""),10)&&(f+=d),a=i;break}}else if("["==o){for(i=a+1;l>i;i++)if("]"==n.charAt(i)){var v=n.substring(a+1,i),d=w(c,v,r);d!=w(u,v,r)&&(f+=d),a=i;break}}else if("{"==o)c=t,u=e;else if("}"==o)c=e,u=t;else{for(i=l;i>a;i--)if(s=Pt[n.substring(a,i)]){c&&(f+=s(c,r)),a=i-1;break}i==a&&c&&(f+=o)}return f}function M(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function C(e){return e.end?k(e.end,e.allDay):u(v(e.start),1)}function k(e,t){return e=v(e),t||e.getHours()||e.getMinutes()?u(e,1):d(e)}function S(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var o,i,s,c=n.target;c!=this;)o=c,c=c.parentNode;(i=o._fci)!==t&&(o._fci=t,s=r[i],a(s.event,s.element,s),e(n.target).trigger(n)),n.stopPropagation()})}function E(t,n,r){for(var a,o=0;t.length>o;o++)a=e(t[o]),a.width(Math.max(0,n-R(a,r)))}function T(t,n,r){for(var a,o=0;t.length>o;o++)a=e(t[o]),a.height(Math.max(0,n-H(a,r)))}function R(e,t){return x(e)+W(e)+(t?N(e):0)}function x(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function N(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function W(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function H(e,t){return F(e)+O(e)+(t?z(e):0)}function F(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function z(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function L(){}function A(e,t){return e-t}function q(e){return Math.max.apply(Math,e)}function P(e){return(10>e?"0":"")+e}function _(e,n){if(e[n]!==t)return e[n];for(var r,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if(r=e[a[o].toLowerCase()],r!==t)return r;return e[""]}function j(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function B(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function I(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Y(e,t){var n=e.source||{},r=e.color,a=n.color,o=t("eventColor"),i=e.backgroundColor||r||n.backgroundColor||a||t("eventBackgroundColor")||o,s=e.borderColor||r||n.borderColor||a||t("eventBorderColor")||o,c=e.textColor||n.textColor||t("eventTextColor"),u=[];return i&&u.push("background-color:"+i),s&&u.push("border-color:"+s),c&&u.push("color:"+c),u.join(";")}function V(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var a,o;for(a=0;t.length>a;a++)o=t[a].apply(n,r)||o;return o}}function X(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function J(e,t){function n(e,t){t&&(c(e,t),e.setDate(1));var n=a("firstDay"),f=v(e,!0);f.setDate(1);var d=c(v(f),1),h=v(f);u(h,-((h.getDay()-n+7)%7)),i(h);var p=v(d);u(p,(7-p.getDay()+n)%7),i(p,-1,!0);var y=s(),m=Math.round(g(p,h)/7);"fixed"==a("weekMode")&&(u(p,7*(6-m)),m=6),r.title=l(f,a("titleFormat")),r.start=f,r.end=d,r.visStart=h,r.visEnd=p,o(m,y,!0)}var r=this;r.render=n,G.call(r,e,t,"month");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=r.getCellsPerWeek,l=t.formatDate}function U(e,t){function n(e,t){t&&u(e,7*t);var n=u(v(e),-((e.getDay()-a("firstDay")+7)%7)),l=u(v(n),7),f=v(n);i(f);var d=v(l);i(d,-1,!0);var h=s();r.start=n,r.end=l,r.visStart=f,r.visEnd=d,r.title=c(f,u(v(d),-1),a("titleFormat")),o(1,h,!1)}var r=this;r.render=n,G.call(r,e,t,"basicWeek");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=t.formatDates}function Z(e,t){function n(e,t){t&&u(e,t),i(e,0>t?-1:1);var n=v(e,!0),c=u(v(n),1);r.title=s(e,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1,1,!1)}var r=this;r.render=n,G.call(r,e,t,"basicDay");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=t.formatDate}function G(t,n,r){function a(e,t,n){tt=e,nt=t,rt=n,o(),_||i(),s()}function o(){ct=vt("theme")?"ui":"fc",ut=vt("columnFormat"),lt=vt("weekNumbers"),ft=vt("weekNumberTitle"),dt="iso"!=vt("weekNumberCalculation")?"w":"W"}function i(){Z=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function s(){var n=c();A&&A.remove(),A=e(n).appendTo(t),q=A.find("thead"),P=q.find(".fc-day-header"),_=A.find("tbody"),Y=_.find("tr"),V=_.find(".fc-day"),X=Y.find("td:first-child"),J=Y.eq(0).find(".fc-day > div"),U=Y.eq(0).find(".fc-day-content > div"),I(q.add(q.find("tr"))),I(Y),Y.eq(0).addClass("fc-first"),Y.filter(":last").addClass("fc-last"),V.each(function(t,n){var r=Dt(Math.floor(t/nt),t%nt);ht("dayRender",L,r,e(n))}),y(V)}function c(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+l()+f()+"</table>";return e}function l(){var e,t,n=ct+"-widget-header",r="";for(r+="<thead><tr>",lt&&(r+="<th class='fc-week-number "+n+"'>"+j(ft)+"</th>"),e=0;nt>e;e++)t=Dt(0,e),r+="<th class='fc-day-header fc-"+Ot[t.getDay()]+" "+n+"'>"+j(Mt(t,ut))+"</th>";return r+="</tr></thead>"}function f(){var e,t,n,r=ct+"-widget-content",a="";for(a+="<tbody>",e=0;tt>e;e++){for(a+="<tr class='fc-week'>",lt&&(n=Dt(e,0),a+="<td class='fc-week-number "+r+"'>"+"<div>"+j(Mt(n,dt))+"</div>"+"</td>"),t=0;nt>t;t++)n=Dt(e,t),a+=h(n);a+="</tr>"}return a+="</tbody>"}function h(e){var t=ct+"-widget-content",n=L.start.getMonth(),r=d(new Date),a="",o=["fc-day","fc-"+Ot[e.getDay()],t];return e.getMonth()!=n&&o.push("fc-other-month"),+e==+r?o.push("fc-today",ct+"-state-highlight"):r>e?o.push("fc-past"):o.push("fc-future"),a+="<td class='"+o.join(" ")+"'"+" data-date='"+Mt(e,"yyyy-MM-dd")+"'"+">"+"<div>",rt&&(a+="<div class='fc-day-number'>"+e.getDate()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(t){Q=t;var n,r,a,o=Q-q.height();"variable"==vt("weekMode")?n=r=Math.floor(o/(1==tt?2:6)):(n=Math.floor(o/tt),r=o-n*(tt-1)),X.each(function(t,o){tt>t&&(a=e(o),a.find("> div").css("min-height",(t==tt-1?r:n)-H(a)))})}function p(e){G=e,it.clear(),st.clear(),et=0,lt&&(et=q.find("th.fc-week-number").outerWidth()),K=Math.floor((G-et)/nt),E(P.slice(0,-1),K)}function y(e){e.click(D).mousedown(yt)}function D(t){if(!vt("selectable")){var n=m(e(this).data("date"));ht("dayClick",this,n,!0,t)}}function w(e,t,n){n&&at.build();for(var r=bt(e,t),a=0;r.length>a;a++){var o=r[a];y(b(o.row,o.leftCol,o.row,o.rightCol))}}function b(e,n,r,a){var o=at.rect(e,n,r,a,t);return gt(o,t)}function M(e){return v(e)}function C(e,t){w(e,u(v(t),1),!0)}function k(){pt()}function S(e,t,n){var r=wt(e),a=V[r.row*nt+r.col];ht("dayClick",a,e,t,n)}function T(e,t){ot.start(function(e){pt(),e&&b(e.row,e.col,e.row,e.col)},t)}function R(e,t,n){var r=ot.stop();if(pt(),r){var a=Dt(r);ht("drop",e,a,!0,t,n)}}function x(e){return v(e.start)}function N(e){return it.left(e)}function W(e){return it.right(e)}function F(e){return st.left(e)}function z(e){return st.right(e)}function O(e){return Y.eq(e)}var L=this;L.renderBasic=a,L.setHeight=g,L.setWidth=p,L.renderDayOverlay=w,L.defaultSelectionEnd=M,L.renderSelection=C,L.clearSelection=k,L.reportDayClick=S,L.dragStart=T,L.dragStop=R,L.defaultEventEnd=x,L.getHoverListener=function(){return ot},L.colLeft=N,L.colRight=W,L.colContentLeft=F,L.colContentRight=z,L.getIsCellAllDay=function(){return!0},L.allDayRow=O,L.getRowCnt=function(){return tt},L.getColCnt=function(){return nt},L.getColWidth=function(){return K},L.getDaySegmentContainer=function(){return Z},mt.call(L,t,n,r),kt.call(L),Ct.call(L),$.call(L);var A,q,P,_,Y,V,X,J,U,Z,G,Q,K,et,tt,nt,rt,at,ot,it,st,ct,ut,lt,ft,dt,vt=L.opt,ht=L.trigger,gt=L.renderOverlay,pt=L.clearOverlays,yt=L.daySelectionMousedown,Dt=L.cellToDate,wt=L.dateToCell,bt=L.rangeToSegments,Mt=n.formatDate;B(t.addClass("fc-grid")),at=new St(function(t,n){var r,a,o;P.each(function(t,i){r=e(i),a=r.offset().left,t&&(o[1]=a),o=[a],n[t]=o}),o[1]=a+r.outerWidth(),Y.each(function(n,i){tt>n&&(r=e(i),a=r.offset().top,n&&(o[1]=a),o=[a],t[n]=o)}),o[1]=a+r.outerHeight()}),ot=new Et(at),it=new Rt(function(e){return J.eq(e)}),st=new Rt(function(e){return U.eq(e)})}function $(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,Dt.call(n)}function Q(e,t){function n(e,t){t&&u(e,7*t);var n=u(v(e),-((e.getDay()-a("firstDay")+7)%7)),l=u(v(n),7),f=v(n);i(f);var d=v(l);i(d,-1,!0);var h=s();r.title=c(f,u(v(d),-1),a("titleFormat")),r.start=n,r.end=l,r.visStart=f,r.visEnd=d,o(h)}var r=this;r.render=n,et.call(r,e,t,"agendaWeek");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=t.formatDates}function K(e,t){function n(e,t){t&&u(e,t),i(e,0>t?-1:1);var n=v(e,!0),c=u(v(n),1);r.title=s(e,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1)}var r=this;r.render=n,et.call(r,e,t,"agendaDay");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=t.formatDate}function et(n,r,a){function o(e){Ft=e,i(),K?c():s()}function i(){_t=Ut("theme")?"ui":"fc",jt=Ut("isRTL"),Bt=D(Ut("minTime")),It=D(Ut("maxTime")),Yt=Ut("columnFormat"),Vt=Ut("weekNumbers"),Xt=Ut("weekNumberTitle"),Jt="iso"!=Ut("weekNumberCalculation")?"w":"W",Nt=Ut("snapMinutes")||Ut("slotMinutes")}function s(){var t,r,a,o,i,s=_t+"-widget-header",u=_t+"-widget-content",l=0==Ut("slotMinutes")%15;for(c(),ut=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Ut("allDaySlot")?(lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ut),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+Ut("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ft=e(t).appendTo(ut),dt=ft.find("tr"),M(dt.find("td")),ut.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):lt=e([]),vt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ut),ht=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(vt),gt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ht),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=h(),o=f(v(r),It),f(r,Bt),zt=0,a=0;o>r;a++)i=r.getMinutes(),t+="<tr class='fc-slot"+a+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(l&&i?"&nbsp;":on(r,Ut("axisFormat")))+"</th>"+"<td class='"+u+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",f(r,Ut("slotMinutes")),zt++;t+="</tbody></table>",pt=e(t).appendTo(ht),C(pt.find("td"))}function c(){var t=l();K&&K.remove(),K=e(t).appendTo(n),et=K.find("thead"),nt=et.find("th").slice(1,-1),rt=K.find("tbody"),at=rt.find("td").slice(0,-1),ot=at.find("> div"),it=at.find(".fc-day-content > div"),st=at.eq(0),ct=ot.eq(0),I(et.add(et.find("tr"))),I(rt.add(rt.find("tr")))}function l(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+p()+"</table>";return e}function g(){var e,t,n,r=_t+"-widget-header",a="";for(a+="<thead><tr>",Vt?(e=nn(0,0),t=on(e,Jt),jt?t+=Xt:t=Xt+t,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+j(t)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Ft>n;n++)e=nn(0,n),a+="<th class='fc-"+Ot[e.getDay()]+" fc-col"+n+" "+r+"'>"+j(on(e,Yt))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function p(){var e,t,n,r,a,o=_t+"-widget-header",i=_t+"-widget-content",s=d(new Date),c="";for(c+="<tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>",n="",t=0;Ft>t;t++)e=nn(0,t),a=["fc-col"+t,"fc-"+Ot[e.getDay()],i],+e==+s?a.push(_t+"-state-highlight","fc-today"):s>e?a.push("fc-past"):a.push("fc-future"),r="<td class='"+a.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=r;return c+=n,c+="<td class='fc-agenda-gutter "+i+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function y(e){e===t&&(e=wt),wt=e,sn={};var n=rt.position().top,r=vt.position().top,a=Math.min(e-n,pt.height()+r+1);ct.height(a-H(st)),ut.css("top",n),vt.height(a-r-1),xt=pt.find("tr:first").height()+1,Wt=Ut("slotMinutes")/Nt,Ht=xt/Wt}function m(t){Dt=t,qt.clear(),Pt.clear();var n=et.find("th:first");ft&&(n=n.add(ft.find("th:first"))),n=n.add(pt.find("th:first")),bt=0,E(n.width("").each(function(t,n){bt=Math.max(bt,e(n).outerWidth())}),bt);var r=K.find(".fc-agenda-gutter");ft&&(r=r.add(ft.find("th.fc-agenda-gutter")));var a=vt[0].clientWidth;Tt=vt.width()-a,Tt?(E(r,Tt),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),Mt=Math.floor((a-bt)/Ft),E(nt.slice(0,-1),Mt)}function w(){function e(){vt.scrollTop(r)}var t=h(),n=v(t);n.setHours(Ut("firstHour"));var r=q(t,n)+1;e(),setTimeout(e,0)}function b(){w()}function M(e){e.click(k).mousedown(en)}function C(e){e.click(k).mousedown(U)}function k(e){if(!Ut("selectable")){var t=Math.min(Ft-1,Math.floor((e.pageX-K.offset().left-bt)/Mt)),n=nn(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*Ut("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Bt),Zt("dayClick",at[t],n,!1,e)}else Zt("dayClick",at[t],n,!0,e)}}function S(e,t,n){n&&Lt.build();for(var r=an(e,t),a=0;r.length>a;a++){var o=r[a];M(R(o.row,o.leftCol,o.row,o.rightCol))}}function R(e,t,n,r){var a=Lt.rect(e,t,n,r,ut);return Gt(a,ut)}function x(e,t){for(var n=0;Ft>n;n++){var r=nn(0,n),a=u(v(r),1),o=new Date(Math.max(r,e)),i=new Date(Math.min(a,t));if(i>o){var s=Lt.rect(0,n,0,n,ht),c=q(r,o),l=q(r,i);s.top=c,s.height=l-c,C(Gt(s,ht))}}}function N(e){return qt.left(e)}function W(e){return Pt.left(e)}function F(e){return qt.right(e)}function z(e){return Pt.right(e)}function O(e){return Ut("allDaySlot")&&!e.row}function L(e){var t=nn(0,e.col),n=e.row;return Ut("allDaySlot")&&n--,n>=0&&f(t,Bt+n*Nt),t}function q(e,n){if(e=v(e,!0),f(v(e),Bt)>n)return 0;if(n>=f(v(e),It))return pt.height();var r=Ut("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Bt,o=Math.floor(a/r),i=sn[o];return i===t&&(i=sn[o]=pt.find("tr").eq(o).find("td div")[0].offsetTop),Math.max(0,Math.round(i-1+xt*(a%r/r)))}function P(){return dt}function _(e){var t=v(e.start);return e.allDay?t:f(t,Ut("defaultEventMinutes"))}function Y(e,t){return t?v(e):f(v(e),Ut("slotMinutes"))}function V(e,t,n){n?Ut("allDaySlot")&&S(e,u(v(t),1),!0):X(e,t)}function X(t,n){var r=Ut("selectHelper");if(Lt.build(),r){var a=rn(t).col;if(a>=0&&Ft>a){var o=Lt.rect(0,a,0,a,ht),i=q(t,t),s=q(t,n);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,e.isFunction(r)){var c=r(t,n);c&&(o.position="absolute",yt=e(c).css(o).appendTo(ht))}else o.isStart=!0,o.isEnd=!0,yt=e(tn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},o)),yt.css("opacity",Ut("dragOpacity"));yt&&(C(yt),ht.append(yt),E(yt,o.width,!0),T(yt,o.height,!0))}}}else x(t,n)}function J(){$t(),yt&&(yt.remove(),yt=null)}function U(t){if(1==t.which&&Ut("selectable")){Kt(t);var n;At.start(function(e,t){if(J(),e&&e.col==t.col&&!O(e)){var r=L(t),a=L(e);n=[r,f(v(r),Nt),a,f(v(a),Nt)].sort(A),X(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){At.stop(),n&&(+n[0]==+n[1]&&Z(n[0],!1,e),Qt(n[0],n[3],!1,e))})}}function Z(e,t,n){Zt("dayClick",at[rn(e).col],e,t,n)}function G(e,t){At.start(function(e){if($t(),e)if(O(e))R(e.row,e.col,e.row,e.col);else{var t=L(e),n=f(v(t),Ut("defaultEventMinutes"));x(t,n)}},t)}function $(e,t,n){var r=At.stop();$t(),r&&Zt("drop",e,L(r),O(r),t,n)}var Q=this;Q.renderAgenda=o,Q.setWidth=m,Q.setHeight=y,Q.afterRender=b,Q.defaultEventEnd=_,Q.timePosition=q,Q.getIsCellAllDay=O,Q.allDayRow=P,Q.getCoordinateGrid=function(){return Lt},Q.getHoverListener=function(){return At},Q.colLeft=N,Q.colRight=F,Q.colContentLeft=W,Q.colContentRight=z,Q.getDaySegmentContainer=function(){return lt},Q.getSlotSegmentContainer=function(){return gt},Q.getMinMinute=function(){return Bt},Q.getMaxMinute=function(){return It},Q.getSlotContainer=function(){return ht},Q.getRowCnt=function(){return 1},Q.getColCnt=function(){return Ft},Q.getColWidth=function(){return Mt},Q.getSnapHeight=function(){return Ht},Q.getSnapMinutes=function(){return Nt},Q.defaultSelectionEnd=Y,Q.renderDayOverlay=S,Q.renderSelection=V,Q.clearSelection=J,Q.reportDayClick=Z,Q.dragStart=G,Q.dragStop=$,mt.call(Q,n,r,a),kt.call(Q),Ct.call(Q),tt.call(Q);var K,et,nt,rt,at,ot,it,st,ct,ut,lt,ft,dt,vt,ht,gt,pt,yt,Dt,wt,bt,Mt,Tt,xt,Nt,Wt,Ht,Ft,zt,Lt,At,qt,Pt,_t,jt,Bt,It,Yt,Vt,Xt,Jt,Ut=Q.opt,Zt=Q.trigger,Gt=Q.renderOverlay,$t=Q.clearOverlays,Qt=Q.reportSelection,Kt=Q.unselect,en=Q.daySelectionMousedown,tn=Q.slotSegHtml,nn=Q.cellToDate,rn=Q.dateToCell,an=Q.rangeToSegments,on=r.formatDate,sn={};B(n.addClass("fc-agenda")),Lt=new St(function(t,n){function r(e){return Math.max(c,Math.min(u,e))}var a,o,i;nt.each(function(t,r){a=e(r),o=a.offset().left,t&&(i[1]=o),i=[o],n[t]=i}),i[1]=o+a.outerWidth(),Ut("allDaySlot")&&(a=dt,o=a.offset().top,t[0]=[o,o+a.outerHeight()]);for(var s=ht.offset().top,c=vt.offset().top,u=c+vt.outerHeight(),l=0;zt*Wt>l;l++)t.push([r(s+Ht*l),r(s+Ht*(l+1))])}),At=new Et(Lt),qt=new Rt(function(e){return ot.eq(e)}),Pt=new Rt(function(e){return it.eq(e)})}function tt(){function n(e,t){var n,r=e.length,o=[],i=[];for(n=0;r>n;n++)e[n].allDay?o.push(e[n]):i.push(e[n]);m("allDaySlot")&&(et(o,t),E()),s(a(i),t)}function r(){x().empty(),N().empty()}function a(t){var n,r,a,s,c,u=_(),l=z(),d=F(),h=e.map(t,i),g=[];for(r=0;u>r;r++)for(n=P(0,r),f(n,l),c=o(t,h,n,f(v(n),d-l)),c=nt(c),a=0;c.length>a;a++)s=c[a],s.col=r,g.push(s);return g}function o(e,t,n,r){var a,o,i,s,c,u,l,f,d=[],h=e.length;for(a=0;h>a;a++)o=e[a],i=o.start,s=t[a],s>n&&r>i&&(n>i?(c=v(n),l=!1):(c=i,l=!0),s>r?(u=v(r),f=!1):(u=s,f=!0),d.push({event:o,start:c,end:u,isStart:l,isEnd:f}));return d.sort(ft)}function i(e){return e.end?v(e.end):f(v(e.start),m("defaultEventMinutes"))}function s(n,r){var a,o,i,s,u,f,d,v,h,g,p,y,w,b,M,C,k=n.length,E="",T=N(),x=m("isRTL");for(a=0;k>a;a++)o=n[a],i=o.event,s=O(o.start,o.start),u=O(o.start,o.end),f=A(o.col),d=q(o.col),v=d-f,d-=.025*v,v=d-f,h=v*(o.forwardCoord-o.backwardCoord),m("slotEventOverlap")&&(h=Math.max(2*(h-10),h)),x?(p=d-o.backwardCoord*v,g=p-h):(g=f+o.backwardCoord*v,p=g+h),g=Math.max(g,f),p=Math.min(p,d),h=p-g,o.top=s,o.left=g,o.outerWidth=h,o.outerHeight=u-s,E+=c(i,o);for(T[0].innerHTML=E,y=T.children(),a=0;k>a;a++)o=n[a],i=o.event,w=e(y[a]),b=D("eventRender",i,i,w),b===!1?w.remove():(b&&b!==!0&&(w.remove(),w=e(b).css({position:"absolute",top:o.top,left:o.left}).appendTo(T)),o.element=w,i._id===r?l(i,w,o):w[0]._fci=a,J(i,w));for(S(T,n,l),a=0;k>a;a++)o=n[a],(w=o.element)&&(o.vsides=H(w,!0),o.hsides=R(w,!0),M=w.find(".fc-event-title"),M.length&&(o.contentTop=M[0].offsetTop));for(a=0;k>a;a++)o=n[a],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",C=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=C+"px",i=o.event,o.contentTop!==t&&10>C-o.contentTop&&(w.find("div.fc-event-time").text(rt(i.start,m("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),D("eventAfterRender",i,i,w))}function c(e,t){var n="<",r=e.url,a=Y(e,m),o=["fc-event","fc-event-vert"];
return w(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=r?"a href='"+j(e.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+j(at(e.start,e.end,m("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+j(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&b(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function l(e,t,n){var r=t.find("div.fc-event-time");w(e)&&h(e,t,r),n.isEnd&&b(e)&&p(e,t,r),k(e,t)}function d(e,t,n){function r(){c||(t.width(a).height("").draggable("option","grid",null),c=!0)}var a,o,i,s=n.isStart,c=!0,l=W(),f=B(),d=I(),h=V(),p=z();t.draggable({opacity:m("dragOpacity","month"),revertDuration:m("dragRevertDuration"),start:function(n,p){D("eventDragStart",t,e,n,p),Z(e,t),a=t.width(),l.start(function(n,a){if(K(),n){o=!1;var l=P(0,a.col),p=P(0,n.col);i=g(p,l),n.row?s?c&&(t.width(f-10),T(t,d*Math.round((e.end?(e.end-e.start)/qt:m("defaultEventMinutes"))/h)),t.draggable("option","grid",[f,1]),c=!1):o=!0:(Q(u(v(e.start),i),u(C(e),i)),r()),o=o||c&&!i}else r(),o=!0;t.draggable("option","revert",o)},n,"drag")},stop:function(n,a){if(l.stop(),K(),D("eventDragStop",t,e,n,a),o)r(),t.css("filter",""),U(e,t);else{var s=0;c||(s=Math.round((t.offset().top-X().offset().top)/d)*h+p-(60*e.start.getHours()+e.start.getMinutes())),G(this,e,i,s,c,n,a)}}})}function h(e,t,n){function r(){K(),s&&(l?(n.hide(),t.draggable("option","grid",null),Q(u(v(e.start),w),u(C(e),w))):(a(b),n.css("display",""),t.draggable("option","grid",[E,T])))}function a(t){var r,a=f(v(e.start),t);e.end&&(r=f(v(e.end),t)),n.text(at(a,r,m("timeFormat")))}var o,i,s,c,l,d,h,p,w,b,M,k=y.getCoordinateGrid(),S=_(),E=B(),T=I(),R=V();t.draggable({scroll:!1,grid:[E,T],axis:1==S?"y":!1,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(n,r){D("eventDragStart",t,e,n,r),Z(e,t),k.build(),o=t.position(),i=k.cell(n.pageX,n.pageY),s=c=!0,l=d=L(i),h=p=0,w=0,b=M=0},drag:function(e,n){var a=k.cell(e.pageX,e.pageY);if(s=!!a){if(l=L(a),h=Math.round((n.position.left-o.left)/E),h!=p){var u=P(0,i.col),f=i.col+h;f=Math.max(0,f),f=Math.min(S-1,f);var v=P(0,f);w=g(v,u)}l||(b=Math.round((n.position.top-o.top)/T)*R)}(s!=c||l!=d||h!=p||b!=M)&&(r(),c=s,d=l,p=h,M=b),t.draggable("option","revert",!s)},stop:function(n,a){K(),D("eventDragStop",t,e,n,a),s&&(l||w||b)?G(this,e,w,l?0:b,l,n,a):(s=!0,l=!1,h=0,w=0,b=0,r(),t.css("filter",""),t.css(o),U(e,t))}})}function p(e,t,n){var r,a,o=I(),i=V();t.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(n,o){r=a=0,Z(e,t),D("eventResizeStart",this,e,n,o)},resize:function(s,c){r=Math.round((Math.max(o,t.height())-c.originalSize.height)/o),r!=a&&(n.text(at(e.start,r||e.end?f(M(e),i*r):null,m("timeFormat"))),a=r)},stop:function(n,a){D("eventResizeStop",this,e,n,a),r?$(this,e,0,i*r,n,a):U(e,t)}})}var y=this;y.renderEvents=n,y.clearEvents=r,y.slotSegHtml=c,Dt.call(y);var m=y.opt,D=y.trigger,w=y.isEventDraggable,b=y.isEventResizable,M=y.eventEnd,k=y.eventElementHandlers,E=y.setHeight,x=y.getDaySegmentContainer,N=y.getSlotSegmentContainer,W=y.getHoverListener,F=y.getMaxMinute,z=y.getMinMinute,O=y.timePosition,L=y.getIsCellAllDay,A=y.colContentLeft,q=y.colContentRight,P=y.cellToDate,_=y.getColCnt,B=y.getColWidth,I=y.getSnapHeight,V=y.getSnapMinutes,X=y.getSlotContainer,J=y.reportEventElement,U=y.showEvents,Z=y.hideEvents,G=y.eventDrop,$=y.eventResize,Q=y.renderDayOverlay,K=y.clearOverlays,et=y.renderDayEvents,tt=y.calendar,rt=tt.formatDate,at=tt.formatDates;y.draggableDayEvent=d}function nt(e){var t,n=rt(e),r=n[0];if(at(n),r){for(t=0;r.length>t;t++)ot(r[t]);for(t=0;r.length>t;t++)it(r[t],0,0)}return st(n)}function rt(e){var t,n,r,a=[];for(t=0;e.length>t;t++){for(n=e[t],r=0;a.length>r&&ct(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function at(e){var t,n,r,a,o;for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)for(a=n[r],a.forwardSegs=[],o=t+1;e.length>o;o++)ct(a,e[o],a.forwardSegs)}function ot(e){var n,r,a=e.forwardSegs,o=0;if(e.forwardPressure===t){for(n=0;a.length>n;n++)r=a[n],ot(r),o=Math.max(o,1+r.forwardPressure);e.forwardPressure=o}}function it(e,n,r){var a,o=e.forwardSegs;if(e.forwardCoord===t)for(o.length?(o.sort(lt),it(o[0],n+1,r),e.forwardCoord=o[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1),a=0;o.length>a;a++)it(o[a],0,e.forwardCoord)}function st(e){var t,n,r,a=[];for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)a.push(n[r]);return a}function ct(e,t,n){n=n||[];for(var r=0;t.length>r;r++)ut(e,t[r])&&n.push(t[r]);return n}function ut(e,t){return e.end>t.start&&e.start<t.end}function lt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ft(e,t)}function ft(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function dt(e,t){function n(e,t){if(100===t||-100===t)var n=c(e,t>0?1:-1),l=c(v(n),1);else if(t)if("month"===a("paginateResourceMonth")){var n=c(e,1*t);n.setDate(1);var l=c(v(n),1)}else var n=u(e,t*a("paginateResourceMonth")),l=c(v(n),1);else var n=v(e.setDate(1),!0),l=c(v(n.setDate(1),!0),1);var f=v(n),d=v(l),h=a("weekends");h||(skipWeekend(f),skipWeekend(d,-1,!0)),r.title=i(f,u(v(d),-1),a("titleFormat")),r.start=n,r.end=l,r.visStart=f,r.visEnd=d;var g,p=s.length,y=Math.round((d-f)/Lt);if(!h){for(var m=0,D=1;y>=D;D++)g=u(v(f),D-1),(0==g.getDay()||6==g.getDay())&&m++;y-=m}o(p,y,!1)}var r=this;r.render=n,pt.call(r,e,t,"resourceMonth");var a=r.opt,o=r.renderBasic,i=t.formatDates,s=r.getResources}function vt(e,t){function n(e,t){if(100===t||-100===t)var n=u(e,t>0?7:-7,!1),c=u(v(n),7);else if(t)var n=u(r.visStart,t*a("paginateResourceWeek"),!1),c=u(v(n),7);else{e=new Date;var n=u(v(e,!0),-((e.getDay()-a("firstDay")+7)%7)),c=u(v(n),7)}var l=v(n),f=v(c),d=a("weekends");d||(skipWeekend(l),skipWeekend(f,-1,!0)),r.title=i(l,u(v(f),-1),a("titleFormat")),r.start=n,r.end=c,r.visStart=l,r.visEnd=f,o(s.length,d?7:5,!1)}var r=this;r.render=n,pt.call(r,e,t,"resourceWeek");var a=r.opt,o=r.renderBasic,i=t.formatDates,s=r.getResources}function ht(e,t){function n(e,t){var n=a("weekends"),c=n?7:5,l=s.length,f=(n?7:5)*a("numberOfWeeks");if(100===t||-100===t)var d=u(e,a("numberOfWeeks")*(t>0?7:-7),!1),h=u(v(d),7*a("numberOfWeeks"));else if(t)var d=u(r.visStart,t*a("paginateResourceNextWeeks"),!1),h=u(v(d),7*a("numberOfWeeks"));else{e=new Date;var d=u(v(e),-((e.getDay()-a("firstDay")+c)%c),!1),h=u(v(d),7*a("numberOfWeeks"))}var g=v(d),p=v(h);n||(skipWeekend(g),skipWeekend(p,-1,!0)),r.title=i(g,u(v(p),-1),a("titleFormat")),r.start=d,r.end=h,r.visStart=g,r.visEnd=p,o(l,f,!1)}var r=this;r.render=n,pt.call(r,e,t,"resourceNextWeeks");var a=r.opt,o=r.renderBasic,i=t.formatDates,s=r.getResources}function gt(e,t){function n(e,t){t?(u(e,1*t),a("weekends")||skipWeekend(e,0>t?-1:1)):e=new Date;var n=f(v(e,!0),D(a("minTime"))),c=f(v(n),D(a("maxTime"))-D(a("minTime"))),l=v(n),d=v(c),h=s.length;r.title=i(l,u(v(d),-1),a("titleFormat")),r.start=n,r.end=c,r.visStart=l,r.visEnd=d;var g=Math.round((d-l)/1e3/60/a("slotMinutes"));o(h,g,!1)}var r=this;r.render=n,pt.call(r,e,t,"resourceDay");var a=r.opt,o=r.renderBasic,i=t.formatDates,s=r.getResources}function pt(n,r,a){function o(e,t,n){vt=e,ht=t,showNumbers=n,i(),ot||s(),c()}function i(){Ht=et("theme")?"ui":"fc",Ft=et("columnFormat"),showWeekNumbers=et("weekNumbers"),weekNumberTitle=et("weekNumberTitle"),weekNumberFormat="iso"!=et("weekNumberCalculation")?"w":"W",Mt?(Tt=-1,xt=ht-1):(Tt=1,xt=0),Nt=et("firstDay"),Wt=et("weekends")?0:1,zt=et("snapMinutes")||et("slotMinutes")}function s(){ut=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(n)}function c(){var t,r=l(),o=K.getResources;nt&&nt.remove(),nt=e(r).appendTo(n),rt=nt.find("thead"),at=rt.find("th:not(th.fc-resourceName)"),ot=nt.find("tbody"),it=ot.find("tr"),st=ot.find("td:not(td.fc-resourceName)"),ct=it.find('td:first-child:not("fc-resourceName")'),ot.find("td.fc-resourceName").each(function(e,t){tt("resourceRender",o[e],t,a)}),firstRowCellInners=it.eq(0).find(".fc-day > div"),firstRowCellContentInners=it.eq(0).find(".fc-day-content > div"),rt.add(rt.find("tr")).children().removeClass("fc-first fc-last").filter(':not(".fc-resourceName"):first').addClass("fc-first").end().filter(":last-child").addClass("fc-last"),it.children().removeClass("fc-first fc-last").filter(':not(".fc-resourceName"):first').addClass("fc-first").end().filter(":last-child").addClass("fc-last"),it.eq(0).addClass("fc-first"),it.filter(":last").addClass("fc-last"),st.each(function(n,r){t=V(n),tt("dayRender",K,t,e(r))}),w(st)}function l(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+h()+p()+"</table>";return e}function h(){var e,t,n,r=Ht+"-widget-header",o="";for(n=Mt?Pt(V(0),weekNumberFormat)+weekNumberTitle:weekNumberTitle+Pt(V(0),weekNumberFormat),o+="<thead><tr><th class='fc-resourceName'>"+(!showWeekNumbers||"resourceDay"!==a&&"resourceWeek"!==a?"&nbsp;":n)+"</th>",e=0;ht>e;e++)t=V(e),o+="<th class='"+r+" fc-id "+t.getTime()+(0===t.getDay()||6===t.getDay()?"fc-weekend":"")+"'>"+(!showWeekNumbers||"resourceNextWeeks"!==a&&"resourceMonth"!==a||1!==t.getDay()?"":"#"+Pt(t,weekNumberFormat)+"<br>")+j(Pt(t,Ft))+"</th>";return o+="</tr></thead>"}function p(){var e,t,n,r,a="",o=K.getResources;for(a+="<tbody>",e=0;vt>e;e++){for(r=o[e].id,resourceName=o[e].name,a+="<tr class='fc-resourcerow-"+r+"'>"+"<td class='fc-resourceName'>"+resourceName+"</td>",t=0;ht>t;t++)n=V(t),a+=y(n);a+="</tr>"}return a+="</tbody>"}function y(e){var t=Ht+"-widget-content",n=K.start.getMonth(),r=d(new Date),a="",o=["fc-day fc-id"+e.getTime(),t];return e.getMonth()!=n&&o.push("fc-other-month"),+e==+r?o.push("fc-today",Ht+"-state-highlight"):r>e?o.push("fc-past"):o.push("fc-future"),(0==e.getDay()||6==e.getDay())&&o.push("fc-weekend-column"),a+="<td class='"+o.join(" ")+"'"+" data-date='"+Pt(e,"yyyy-MM-dd")+"'"+">"+"<div>",a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function m(t){ft=t;var n,r,a,o=ft-rt.height();"variable"==et("weekMode")?n=r=Math.floor(o/(1==vt?2:6)):(n=Math.floor(o/vt),r=o-n*(vt-1)),ct.each(function(t,o){vt>t&&(a=e(o),a.find("> div").css("min-height",(t==vt-1?r:n)-H(a)))})}function D(t){lt=t,lt-=e("td.fc-resourceName").width(),bt.clear(),dt=Math.floor(lt/ht),E(at,dt),Ot=1,"resourceDay"===a&&(Ot=et("slotMinutes")/zt),Lt=dt/Ot}function w(e){e.click(b).mousedown(Q)}function b(t){if(!et("selectable")){var n=new Date(Date.parse(e(this).data("date")));tt("dayClick",this,n,!0,t)}}function M(e,t,n,r){n&&pt.build();var o=v(K.visStart),i=u(v(o),ht);"resourceDay"==a?i=f(v(o),et("slotMinutes")*ht):et("weekends")||(i=v(K.visEnd));var s=new Date(Math.max(o,e)),c=new Date(Math.min(i,t));if(c>s){var l,d;if("resourceDay"==a)l=(s-o)/1e3/60/et("slotMinutes"),d=(c-o)/1e3/60/et("slotMinutes");else if(Mt?(l=g(c,o)*Tt+xt+1,d=g(s,o)*Tt+xt+1):(l=g(s,o),d=g(c,o)),!et("weekends")){for(var h,p=0,y=0;l>=y;y++)h=u(v(K.visStart),y),(0==h.getDay()||6==h.getDay())&&p++;l-=p;var m=0;for(y=0;d-1>=y;y++)h=u(v(K.visStart),y),(0==h.getDay()||6==h.getDay())&&m++;d-=m}w(C(r,l,r,d-1))}}function C(e,t,r,a){var o=pt.rect(e,Math.round(t),r,Math.round(a),n);return At(o,n)}function k(e){return v(e)}function S(e,t,n,r){"resourceDay"==a?M(e,f(v(t),et("slotMinutes")),!0,r):M(e,u(v(t),1),!0,r)}function T(){qt()}function R(e,t,n,r){var a=P(e),o=st[a];tt("dayClick",o,e,t,n,r)}function x(e,t){Dt.start(function(e){qt(),e&&C(e.row,e.col,e.row,e.col)},t)}function N(e,t,n){var r=Dt.stop();if(qt(),r){var a=K.getResources,o=a[r.row],i=_(r);tt("drop",e,i,!0,t,n,o)}}function W(e){return v(e.start)}function F(e){return bt.left(e)}function z(e){return bt.right(e)}function O(e){var t;return et("weekends"),t="resourceDay"==a?J(e):Math.round((v(e,!0)-K.visStart)/1e3/60/60/24),{col:t}}function L(e){var t="resourceDay"===a?A:q;return t(e)}function A(e){var t=Y(v(e)),n=Z(),r=n.left,a=K.visStart.getTime(),o=t.getTime(),i=(o-a)/1e3/60/zt,s=Math.round(r+i*Lt);return s}function q(e){var t=d(v(e)),n=Z(),r=n.left,a=K.visStart.getTime(),o=t.getTime(),i=(o-a)/1e3/60/60/24,s=Math.round(r+i*Lt);return s}function P(e){var t;return t="resourceDay"===a?J(e):Math.round((v(e,!0)-K.visStart)/1e3/60/60/24)}function _(e){return I(e.col)}function I(e){if("resourceDay"==a)return f(v(K.visStart),e*et("slotMinutes"));if(!et("weekends")){var t,n;for(n=0;e>=n;n++)t=u(v(K.visStart),n),(6==t.getDay()||0==t.getDay())&&e++}return u(v(K.visStart),e,!0)}function Y(e){for(var t,n,r,a,o=v(e),i=o.getHours(),s=o.getMinutes(),c=0;60/Ot>=c;c++)t=c*zt,n=Math.abs(t-s),(r>=n||0==c)&&(r=n,a=t),60==a&&(i++,a=0);return s=a,o.setMinutes(s),o.setHours(i),o}function V(e){return I(e%ht)}function X(e){return(e-Math.max(Nt,Wt)+ht)%ht*Tt+xt}function J(e){for(var t,n,r,a,o=e.getHours(),i=e.getMinutes(),s=et("slotMinutes"),c=0;60/s>=c;c++)t=c*s,n=Math.abs(t-i),(r>=n||0==c)&&(r=n,a=t),60==a&&(o++,a=0);i=a;for(var c=0;ht>c;c++)if(V(c).getHours()==o&&V(c).getMinutes()==i)return c;return ht}function U(e){return it.eq(e)}function Z(){return{left:e(rt).find("th.fc-resourceName").width(),right:e(rt).width()}}function G(e,n,r,a,o){return"object"==typeof o&&o.readonly===!0?!1:(selected=!0,tt("select",null,e,n,r,a,"",o),t)}function $(n){var r=gt;return e(r).each(function(e,r){return r.id==n&&r.readonly?!1:t}),!0}function Q(t){var n,r,o=K.cellDate,i=K.cellIsAllDay,s=K.getHoverListener(),c=K.unselect,u=K.reportDayClick,l=K.getResources||[];if(1==t.which&&et("selectable")){c(t);var d;s.start(function(e,t){T(),e&&(r="object"==typeof l[e.row]?l[e.row].readonly:!1),e&&i(e)&&r!==!0?(d=[o(t),o(e)].sort(),S(d[0],d[1],"resourceDay"==a?!1:!0,e.row),n=e.row):d=null},t),e(document).one("mouseup",function(e){s.stop(),d&&(+d[0]==+d[1]&&u(d[0],"resourceDay"==a?!1:!0,e,l[n]),G(d[0],"resourceDay"==a?f(d[1],et("slotMinutes")):d[1],"resourceDay"==a?!1:!0,e,l[n]))})}}var K=this;K.renderBasic=o,K.setHeight=m,K.setWidth=D,K.renderDayOverlay=M,K.defaultSelectionEnd=k,K.renderSelection=S,K.clearSelection=T,K.reportDayClick=R,K.dragStart=x,K.dragStop=N,K.defaultEventEnd=W,K.getHoverListener=function(){return Dt},K.colContentLeft=F,K.colContentRight=z,K.dateCol=P,K.dateCell=O,K.dayOfWeekCol=X,K.timeOfDayCol=J,K.cellDate=_,K.cellIsAllDay=function(){return!0},K.allDayRow=U,K.allDayBounds=Z,K.getRowCnt=function(){return vt},K.getColCnt=function(){return ht},K.getSnapWidth=function(){return Lt},K.getSnapMinutes=function(){return zt},K.getResources=r.fetchResources(!r.options.refetchResources),K.getColWidth=function(){return dt},K.getViewName=function(){return a},K.getDaySegmentContainer=function(){return ut},K.datePositionLeft=L,K.isResourceEditable=$,mt.call(K,n,r,a),kt.call(K),Ct.call(K),yt.call(K);var et=K.opt,tt=K.trigger;K.clearEvents;var nt,rt,at,ot,it,st,ct,ut,lt,ft,dt,vt,ht,gt,pt,Dt,wt,bt,Mt,Tt,xt,Nt,Wt,Ht,Ft,zt,Ot,Lt,At=K.renderOverlay,qt=K.clearOverlays,Pt=r.formatDate,gt=K.getResources;B(n.addClass("fc-grid")),pt=new St(function(t,n){var r,a,o;at.each(function(t,i){r=e(i),a=r.offset().left,t&&(o[1]=a),o=[a],n[t]=o}),o[1]=a+r.outerWidth(),it.each(function(n,i){vt>n&&(r=e(i),a=r.offset().top,n&&(o[1]=a),o=[a],t[n]=o)}),o[1]=a+r.outerHeight()}),Dt=new Et(pt),wt=new Rt(function(e){return firstRowCellInners.eq(e)}),bt=new Rt(function(e){return firstRowCellContentInners.eq(e)})}function yt(){function n(e,t){r(m(e),t)}function r(e,t){var n,r,a,u,f,v,y,m,D=X(),w=G(),b=$(),C=0,k=e.length,S=ot();for(D[0].innerHTML=M(e),o(e,D.children()),i(e),s(e,D,t),c(e),l(e),d(e),n=h(),r=0;w>r;r++){for(a=0,u=[],f=0;b*S>f;f++)u[f]=0;for(;k>C&&(v=e[C]).row==r;){for(y=q(u.slice(v.startCol,v.endCol)),v.top=y,y+=v.outerHeight,m=v.startCol;v.endCol>m;m++)u[m]=y;C++}n[r].height(q(u))}p(e,g(n))}function a(t,n,r){var a,i,s,u=e("<div/>"),f=X(),v=t.length;for(u[0].innerHTML=M(t),a=u.children(),f.append(a),o(t,a),c(t),l(t),d(t),p(t,g(h())),a=[],i=0;v>i;i++)s=t[i].element,s&&(t[i].row===n&&s.css("top",r),a.push(s[0]));return e(a)}function o(t,n){var r,a,o,i,s,c=t.length;for(r=0;c>r;r++)a=t[r],o=a.event,i=e(n[r]),s=L("eventRender",o,o,i),s===!1?i.remove():(s&&s!==!0&&(s=e(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}function i(e){var t,n,r,a=e.length;for(t=0;a>t;t++)n=e[t],r=n.element,r&&rt(n.event,r)}function s(e,t,n){var r,a,o,i,s=e.length;for(r=0;s>r;r++)a=e[r],o=a.element,o&&(i=a.event,i._id===n?k(i,o,a):o[0]._fci=r);S(t,e,k)}function c(e){var t,n,r,a=e.length;for(t=0;a>t;t++)n=e[t],r=n.element,r&&(n.hsides=R(r,!0))}function l(e){var t,n,r,a=e.length;for(t=0;a>t;t++)n=e[t],r=n.element,r&&(r[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function d(e){var n,r,a,o,i,s=e.length,c={};for(n=0;s>n;n++)r=e[n],a=r.element,a&&(o=r.key,i=c[o],i===t&&(i=c[o]=z(a)),r.outerHeight=a[0].offsetHeight+i)}function h(){var e,t=G(),n=[];for(e=0;t>e;e++)n[e]=F(e).find("td:not(.fc-resourceName):first div.fc-day-content > div");return n}function g(e){var t,n=e.length,r=[];for(t=0;n>t;t++)r[t]=e[t][0].offsetTop;return r}function p(e,t){var n,r,a,o,i=e.length;for(n=0;i>n;n++)r=e[n],a=r.element,a&&(a[0].style.top=t[r.row]+(r.top||0)+"px",o=r.event,L("eventAfterRender",o,o,a))}function y(){X().empty()}function m(t){var n,r,a,o,i,s,c,l,d,h,g=G(),p=($(),x.getResources),y=v(x.visStart),m=v(x.visEnd),w=Q(),b=[],M=O("weekends");for(n="resourceDay"==w?e.map(t,function(e){return e.end||f(v(e.start),O("slotMinutes"))}):e.map(t,C),r=0;g>r;r++)for(s=p[r].id,a=D(t,n,y,m),o=0;a.length>o;o++)i=a[o],i.row=r,e.isArray(i.event.resource)||(i.event.resource=[i.event.resource]),c=i.event.start.getDay(),d=i.event.start.getDate(),null==i.event.end?(l=i.event.start.getDay(),h=v(i.event.start,!0).getDate()):(l=i.event.end.getDay(),h=i.event.end.getDate()),(M||6!=c&&0!=c||6!=l&&0!=l||d!=h&&u(v(i.event.start),1).getDate()!=h)&&"-1"!=e.inArray(s,i.event.resource)&&b.push(i);return b}function D(e,t,n,r){var a,o,i,s,c,u,l,f,d=[],h=e.length;for(a=0;h>a;a++)o=e[a],i=o.start,s=t[a],s>n&&r>i&&(n>i?(c=v(n),l=!1):(c=i,l=!0),s>r?(u=v(r),f=!1):(u=s,f=!0),d.push({event:o,start:c,end:u,isStart:l,isEnd:f,msLength:u-c}));return d.sort(w)}function w(e,t){return 100*(t.msLength-e.msLength)+(e.event.start-t.event.start)}function M(e){var t,n,r,a,o,i,s,c,l,f,d=O("isRTL"),h=e.length,g=N(),p=g.left,y=g.right,m="",D=Q(),w=O("weekends");for(t=0;h>t;t++)n=e[t],r=n.event,o=["fc-event","fc-event-hori"],A(r)&&o.push("fc-event-draggable"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),i=K(n.start).col,s=K(n.end).col-1,"resourceDay"==D?(n.end-n.start)/1e3/60<O("slotMinutes")&&i--:w||(i=K(n.start).col,s=K(u(v(n.end),-1)).col,(6==n.start.getDay()||0==n.start.getDay())&&i++),d?(c=n.isEnd?W(i):p,l=n.isStart?H(s):y):(c=n.isStart?W(i):p,l=n.isEnd?H(s):y),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[])),a=r.url,f=Y(r,O),m+=a?"<a href='"+j(a)+"'":"<div",m+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+c+"px;"+f+"'"+">"+"<div class='fc-event-inner'"+(f?" style='"+f+"'":"")+">",!r.allDay&&n.isStart&&(m+="<span class='fc-event-time'>"+j(b(r.start,r.end,O("timeFormat")))+"</span>"),m+="<span class='fc-event-title' "+(f?" style='"+f+"'":"")+">"+j(r.title)+"</span>"+"</div>",n.isEnd&&P(r)&&(m+="<div class='ui-resizable-handle ui-resizable-"+(d?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),m+="</"+(a?"a":"div")+">",n.left=c,n.outerWidth=l-c,n.startCol=i,n.endCol=s+1;return m}function k(e,t,n){var r=t.find("div.fc-event-time");A(e)&&it(e.resource)&&E(e,t,r),n.isEnd&&P(e)&&it(e.resource)&&T(e,t,r),_(e,t)}function E(e,t){var n,r,a,o,i,s,c,l,d,h,g=J(),p=x.getResources,y=Q();t.draggable({zIndex:9,delay:50,opacity:O("dragOpacity"),revertDuration:O("dragRevertDuration"),start:function(s,c){L("eventDragStart",t,e,s,c),V(e,t),g.start(function(s,c,g,m){if(t.draggable("option","revert",!s||!g&&!m||p[s.row].readonly===!0),Z(),s&&!p[s.row].readonly)if(a=g,o=p[s.row].id,"resourceDay"==y){r=m*(O("isRTL")?-1:1)*O("slotMinutes");var D=e.end?v(e.end):f(v(e.start),(O("isRTL")?-1:1)*O("slotMinutes"));U(f(v(e.start),r),f(D,r),!1,s.row)}else{if(n=l=d=m*(O("isRTL")?-1:1),!O("weekends")&&(n>0||0>n))if(n>0){for(h=1;l>=h;h++)i=u(v(e.start),h),(6==i.getDay()||0==i.getDay())&&l++;for(h=1;d>=h;h++)i=u(v(e.end),h),(6==i.getDay()||0==i.getDay())&&d++}else{for(h=-1;h>=l;h--)i=u(v(e.start),h),(6==i.getDay()||0==i.getDay())&&l--;for(h=-1;h>=d;h--)i=u(v(e.end),h),(6==i.getDay()||0==i.getDay())&&d--}U(u(v(e.start),l),u(C(e),d),!1,s.row)}else r=0,n=0,a=0},s,"drag")},stop:function(l,f){var d=g.stop();if(Z(),L("eventDragStop",t,e,l,f),d||L("eventDropOutside",t,e,l,f),"resourceDay"==y&&(r||a))at(this,e,0,r,e.allDay,l,f,o);else if(n||a){if(!O("weekends"))if(n>0){for(s=0,h=1;n+s>=h;h++)i=u(v(e.start),h),(6==i.getDay()||0==i.getDay())&&s++;for(s>0&&(e.start=u(v(e.start),s,!0)),s=0,h=1;n+s>=h;h++)i=u(v(e.end),h),(6==i.getDay()||0==i.getDay())&&s++;s>0&&(e.end=u(v(e.end),s,!0))}else{for(c=0,h=-1;h>=n+c;h--)i=u(v(e.start),h),(6==i.getDay()||0==i.getDay())&&c--;for(0>c&&(e.start=u(v(e.start),c,!0)),c=0,h=-1;h>=n+c;h--)i=u(v(e.end),h),(6==i.getDay()||0==i.getDay())&&c--;0>c&&(e.end=u(v(e.end),c,!0))}at(this,e,n,0,e.allDay,l,f,o)}else t.css("filter",""),I(e,t)}})}function T(t,n){var r=O("isRTL"),o=r?"w":"e",i=n.find("div.ui-resizable-"+o),s=!1;B(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){s&&(e.preventDefault(),e.stopImmediatePropagation())}),i.mousedown(function(i){function c(n){if(L("eventResizeStop",this,t,n),e("body").css("cursor",""),l.stop(),Z(),d){if(!O("weekends"))if(w=t.end||v(t.start),d>0){for(var r=0,a=1;d+r>=a;a++)D=u(v(w),a),(6==D.getDay()||0==D.getDay())&&r++;r>0&&(t.end=u(v(w),r,!0))}else{var o=0;for(a=-1;a>=d+o;a--)D=u(v(w),a),(6==D.getDay()||0==D.getDay())&&o--;0>o&&(t.end=u(v(w),o,!0))}nt(this,t,d,0,n)}else p&&nt(this,t,0,p,n);setTimeout(function(){s=!1},0)}if(1==i.which){s=!0;var l=x.getHoverListener();G();var d,h,g,p,y,D,w,b=$(),M=Q(),C=r?-1:1,k=r?b-1:0,S=n.css("top"),E=e.extend({},t),T=K(t.start);et(),e("body").css("cursor",o+"-resize").one("mouseup",c),L("eventResizeStart",this,t,i),l.start(function(e,n){if(e){Math.max(T.row,e.row);var r=e.col;if("resourceDay"==M){p=O("slotMinutes")*r*C+k-(O("slotMinutes")*n.col*C+k),w=t.end||f(v(t.start),O("slotMinutes"));var i=f(v(w),p)}else{if(d=h=g=7+r*C+k-(7+n.col*C+k),w=t.end||v(t.start),!O("weekends")&&(d>0||0>d))if(d>0)for(var s=1;g>=s;s++)D=u(v(w),s),(6==D.getDay()||0==D.getDay())&&g++;else for(s=-1;s>=g;s--)D=u(v(w),s),(6==D.getDay()||0==D.getDay())&&g--;i=u(tt(t),g,!0)}if(d||p){E.end=i;var c=y;y=a(m([E]),n.row,S),y.find("*").css("cursor",o+"-resize"),c&&c.remove(),V(t)}else y&&(I(t),y.remove(),y=null);Z(),"resourceDay"==M?U(t.start,v(i),1,n.row):U(t.start,u(v(i),1),1,n.row)}},i)}})}var x=this;x.renderEvents=n,x.clearEvents=y,x.bindDaySeg=k,x.resizableResourceEvent=T,Dt.call(x);var N=x.allDayBounds,W=x.colContentLeft,H=x.colContentRight,F=x.allDayRow;x.dayOfWeekCol;var O=x.opt,L=x.trigger,A=x.isEventDraggable,P=x.isEventResizable;x.reportEventClear;var _=x.eventElementHandlers,I=x.showEvents,V=x.hideEvents,X=x.getDaySegmentContainer,J=x.getHoverListener,U=x.renderDayOverlay,Z=x.clearOverlays,G=x.getRowCnt,$=x.getColCnt,Q=x.getViewName;x.dateCol;var K=x.dateCell,et=x.clearSelection,tt=x.eventEnd,nt=x.eventResize;x.normalizeEvent,x.timeOfDayCol,x.reportEventChange;var rt=x.reportEventElement,at=x.eventDrop;x.getSnapWidth;var ot=x.getSnapMinutes;x.datePositionLeft;var it=x.isResourceEditable}function mt(n,r,a){function o(){evs=[];for(id in V)evs.push(Y[id]);return evs}function i(t,n){var r=U[t];return e.isPlainObject(r)?_(r,n||a):r}function s(e,t){return r.trigger.apply(r,[e,t||P].concat(Array.prototype.slice.call(arguments,2),[P]))}function c(e){var t=e.source||{};return X(e.startEditable,t.startEditable,i("eventStartEditable"),e.editable,t.editable,i("editable"))&&!i("disableDragging")}function l(e){var t=e.source||{};return X(e.durationEditable,t.durationEditable,i("eventDurationEditable"),e.editable,t.editable,i("editable"))&&!i("disableResizing")}function d(e){Y={};var t,n,r=e.length;for(t=0;r>t;t++)n=e[t],Y[n._id]?Y[n._id].push(n):Y[n._id]=[n]}function h(){Y={},V={},J=[]}function p(e){return e.end?v(e.end):j(e)}function y(e,t){J.push({event:e,element:t}),V[e._id]?V[e._id].push(t):V[e._id]=[t]}function m(){e.each(J,function(e,t){P.trigger("eventDestroy",t.event,t.event,t.element)})}function D(e,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?t:s("eventClick",this,e,r)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function w(e,t){M(e,t,"show")}function b(e,t){M(e,t,"hide")}function M(e,t,n){var r,a=V[e._id],o=a.length;for(r=0;o>r;r++)t&&a[r][0]==t[0]||a[r][n]()}function C(e,t,n,r,a,o,i,c){var u=t.allDay,l=t._id,f=t.resource||"";S(Y[l],n,r,a,c),s("eventDrop",e,t,n,r,a,function(){S(Y[l],-n,-r,u,f),I(l)},o,i,c),I(l)}function k(e,t,n,r,a,o){var i=t._id;E(Y[i],n,r),s("eventResize",e,t,n,r,function(){E(Y[i],-n,-r),I(i)},a,o),I(i)}function S(e,n,r,a,o){r=r||0;for(var i,s=e.length,c=0;s>c;c++)i=e[c],a!==t&&(i.allDay=a),f(u(i.start,n,!0),r),i.end&&(i.end=f(u(i.end,n,!0),r)),i.resource!=o&&1==s&&(i.resource=o),B(i,U)}function E(e,t,n){n=n||0;for(var r,a=e.length,o=0;a>o;o++)r=e[o],r.end=f(u(p(r),t,!0),n),B(r,U)}function T(e){return"object"==typeof e&&(e=e.getDay()),$[e]}function R(){return Z}function x(e,t,n){for(t=t||1;$[(e.getDay()+(n?t:0)+7)%7];)u(e,t)}function N(){var e=W.apply(null,arguments),t=H(e),n=F(t);return n}function W(e,t){var n=P.getColCnt(),r=et?-1:1,a=et?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var o=e*n+(t*r+a);return o}function H(e){var t=P.visStart.getDay();return e+=Q[t],7*Math.floor(e/Z)+K[(e%Z+Z)%Z]-t}function F(e){var t=v(P.visStart);return u(t,e),t}function z(e){var t=O(e),n=L(t),r=A(n);return r}function O(e){return g(e,P.visStart)}function L(e){var t=P.visStart.getDay();return e+=t,Math.floor(e/7)*Z+Q[(e%7+7)%7]-Q[t]}function A(e){var t=P.getColCnt(),n=et?-1:1,r=et?t-1:0,a=Math.floor(e/t),o=(e%t+t)%t*n+r;return{row:a,col:o}}function q(e,t){for(var n=P.getRowCnt(),r=P.getColCnt(),a=[],o=O(e),i=O(t),s=L(o),c=L(i)-1,u=0;n>u;u++){var l=u*r,f=l+r-1,d=Math.max(s,l),v=Math.min(c,f);if(v>=d){var h=A(d),g=A(v),p=[h.col,g.col].sort(),y=H(d)==o,m=H(v)+1==i;a.push({row:u,leftCol:p[0],rightCol:p[1],isStart:y,isEnd:m})}}return a}var P=this;P.element=n,P.calendar=r,P.name=a,P.opt=i,P.trigger=s,P.isEventDraggable=c,P.isEventResizable=l,P.setEventData=d,P.clearEventData=h,P.eventEnd=p,P.reportEventElement=y,P.triggerEventDestroy=m,P.eventElementHandlers=D,P.showEvents=w,P.hideEvents=b,P.eventDrop=C,P.eventResize=k,P.getShownEvents=o;var j=P.defaultEventEnd,B=r.normalizeEvent,I=r.reportEventChange,Y={},V={},J=[],U=r.options;P.isHiddenDay=T,P.skipHiddenDays=x,P.getCellsPerWeek=R,P.dateToCell=z,P.dateToDayOffset=O,P.dayOffsetToCellOffset=L,P.cellOffsetToCell=A,P.cellToDate=N,P.cellToCellOffset=W,P.cellOffsetToDayOffset=H,P.dayOffsetToDate=F,P.rangeToSegments=q;var Z,G=i("hiddenDays")||[],$=[],Q=[],K=[],et=i("isRTL");(function(){i("weekends")===!1&&G.push(0,6);for(var t=0,n=0;7>t;t++)Q[t]=n,$[t]=-1!=e.inArray(t,G),$[t]||(K[n]=t,n++);if(Z=n,!Z)throw"invalid hiddenDays"})()}function Dt(){function t(e,t){var n=r(e,!1,!0);bt(n,function(e,t){H(e.event,t)}),D(n,t),bt(n,function(e,t){T("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var a=r([e],!0,!1),o=[];return bt(a,function(e,r){e.row===t&&r.css("top",n),o.push(r[0])}),o}function r(t,n,r){var o,c,u=Z(),d=n?e("<div/>"):u,v=a(t);return i(v),o=s(v),d[0].innerHTML=o,c=d.children(),n&&u.append(c),l(v,c),bt(v,function(e,t){e.hsides=R(t,!0)}),bt(v,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),bt(v,function(e,t){e.outerHeight=t.outerHeight(!0)}),f(v,r),v}function a(e){for(var t=[],n=0;e.length>n;n++){var r=o(e[n]);t.push.apply(t,r)}return t}function o(e){var t=e.start,n=C(e),r=tt(t,n);console.log(r);for(var a=0;r.length>a;a++)r[a].event=e;return r}function i(e){for(var t=E("isRTL"),n=0;e.length>n;n++){var r=e[n],a=(t?r.isEnd:r.isStart)?J:V,o=(t?r.isStart:r.isEnd)?U:X,i=a(r.leftCol),s=o(r.rightCol);r.left=i,r.outerWidth=s-i}}function s(e){for(var t="",n=0;e.length>n;n++)t+=c(e[n]);return t}function c(e){var t="",n=E("isRTL"),r=e.event,a=r.url,o=["fc-event","fc-event-hori"];x(r)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=Y(r,E);return t+=a?"<a href='"+j(a)+"'":"<div",t+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+j(G(r.start,r.end,E("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+j(r.title||"")+"</span>"+"</div>",e.isEnd&&N(r)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(a?"a":"div")+">"}function l(t,n){for(var r=0;t.length>r;r++){var a=t[r],o=a.event,i=n.eq(r),s=T("eventRender",o,o,i);s===!1?i.remove():(s&&s!==!0&&(s=e(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}}function f(e,t){var n=d(e),r=m(),a=[];if(t)for(var o=0;r.length>o;o++)r[o].height(n[o]);for(var o=0;r.length>o;o++)a.push(r[o].position().top);bt(e,function(e,t){t.css("top",a[e.row]+e.top)})}function d(e){for(var t=P(),n=_(),r=[],a=h(e),o=0;t>o;o++){for(var i=a[o],s=[],c=0;n>c;c++)s.push(0);for(var u=0;i.length>u;u++){var l=i[u];l.top=q(s.slice(l.leftCol,l.rightCol+1));for(var c=l.leftCol;l.rightCol>=c;c++)s[c]=l.top+l.outerHeight}r.push(q(s))}return r}function h(e){var t,n,r,a=P(),o=[];for(t=0;e.length>t;t++)n=e[t],r=n.row,n.element&&(o[r]?o[r].push(n):o[r]=[n]);for(r=0;a>r;r++)o[r]=p(o[r]||[]);return o}function p(e){for(var t=[],n=y(e),r=0;n.length>r;r++)t.push.apply(t,n[r]);return t}function y(e){e.sort(Mt);for(var t=[],n=0;e.length>n;n++){for(var r=e[n],a=0;t.length>a&&wt(r,t[a]);a++);t[a]?t[a].push(r):t[a]=[r]}return t}function m(){var e,t=P(),n=[];for(e=0;t>e;e++)n[e]=I(e).find("div.fc-day-content > div");return n}function D(e,t){var n=Z();bt(e,function(e,n,r){var a=e.event;a._id===t?w(a,n,e):n[0]._fci=r}),S(n,e,w)}function w(e,t,n){x(e)&&k.draggableDayEvent(e,t,n),n.isEnd&&N(e)&&k.resizableDayEvent(e,t,n),F(e,t)}function b(e,t){var n,r=et();t.draggable({delay:50,opacity:E("dragOpacity"),revertDuration:E("dragRevertDuration"),start:function(a,o){T("eventDragStart",t,e,a,o),O(e,t),r.start(function(r,a,o,i){if(t.draggable("option","revert",!r||!o&&!i),Q(),r){var s=nt(a),c=nt(r);n=g(c,s),$(u(v(e.start),n),u(C(e),n))}else n=0},a,"drag")},stop:function(a,o){r.stop(),Q(),T("eventDragStop",t,e,a,o),n?L(this,e,n,0,e.allDay,a,o):(t.css("filter",""),z(e,t))}})}function M(t,r,a){var o=E("isRTL"),i=o?"w":"e",s=r.find(".ui-resizable-"+i),c=!1;B(r),r.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),s.mousedown(function(o){function s(n){T("eventResizeStop",this,t,n),e("body").css("cursor",""),l.stop(),Q(),f&&A(this,t,f,0,n),setTimeout(function(){c=!1},0)}if(1==o.which){c=!0;var l=et();P(),_();var f,d,v=r.css("top"),h=e.extend({},t),g=it(ot(t.start));K(),e("body").css("cursor",i+"-resize").one("mouseup",s),T("eventResizeStart",this,t,o),l.start(function(r,o){if(r){var s=rt(o),c=rt(r);if(c=Math.max(c,g),f=at(c)-at(s)){h.end=u(W(t),f,!0);var l=d;d=n(h,a.row,v),d=e(d),d.find("*").css("cursor",i+"-resize"),l&&l.remove(),O(t)}else d&&(z(t),d.remove(),d=null);Q(),$(t.start,u(C(t),f))}},o)}})}var k=this;k.renderDayEvents=t,k.draggableDayEvent=b,k.resizableDayEvent=M;var E=k.opt,T=k.trigger,x=k.isEventDraggable,N=k.isEventResizable,W=k.eventEnd,H=k.reportEventElement,F=k.eventElementHandlers,z=k.showEvents,O=k.hideEvents,L=k.eventDrop,A=k.eventResize,P=k.getRowCnt,_=k.getColCnt;
k.getColWidth;var I=k.allDayRow,V=k.colLeft,X=k.colRight,J=k.colContentLeft,U=k.colContentRight;k.dateToCell;var Z=k.getDaySegmentContainer,G=k.calendar.formatDates,$=k.renderDayOverlay,Q=k.clearOverlays,K=k.clearSelection,et=k.getHoverListener,tt=k.rangeToSegments,nt=k.cellToDate,rt=k.cellToCellOffset,at=k.cellOffsetToDayOffset,ot=k.dateToDayOffset,it=k.dayOffsetToCellOffset}function wt(e,t){for(var n=0;t.length>n;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function bt(e,t){for(var n=0;e.length>n;n++){var r=e[n],a=r.element;a&&t(r,a,n)}}function Mt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function Ct(){function t(e,t,a){n(),t||(t=c(e,a)),u(e,t,a),r(e,t,a)}function n(e){f&&(f=!1,l(),s("unselect",null,e))}function r(e,t,n,r){f=!0,s("select",null,e,t,n,r)}function a(t){var a=o.cellToDate,s=o.getIsCellAllDay,c=o.getHoverListener(),f=o.reportDayClick;if(1==t.which&&i("selectable")){n(t);var d;c.start(function(e,t){l(),e&&s(e)?(d=[a(t),a(e)].sort(A),u(d[0],d[1],!0)):d=null},t),e(document).one("mouseup",function(e){c.stop(),d&&(+d[0]==+d[1]&&f(d[0],!0,e),r(d[0],d[1],!0,e))})}}var o=this;o.select=t,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.opt,s=o.trigger,c=o.defaultSelectionEnd,u=o.renderSelection,l=o.clearSelection,f=!1;i("selectable")&&i("unselectAuto")&&e(document).mousedown(function(t){var r=i("unselectCancel");r&&e(t.target).parents(r).length||n(t)})}function kt(){function t(t,n){var r=o.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(t).show()),r}function n(){for(var e;e=a.shift();)o.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var a=[],o=[]}function St(e){var t,n,r=this;r.build=function(){t=[],n=[],e(t,n)},r.cell=function(e,r){var a,o=t.length,i=n.length,s=-1,c=-1;for(a=0;o>a;a++)if(r>=t[a][0]&&t[a][1]>r){s=a;break}for(a=0;i>a;a++)if(e>=n[a][0]&&n[a][1]>e){c=a;break}return s>=0&&c>=0?{row:s,col:c}:null},r.rect=function(e,r,a,o,i){var s=i.offset();return{top:t[e][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:t[a][1]-t[e][0]}}}function Et(t){function n(e){Tt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,c,u){a=s,o=i=null,t.build(),n(c),r=u||"mousemove",e(document).bind(r,n)},s.stop=function(){return e(document).unbind(r,n),i}}function Tt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Rt(e){function n(t){return a[t]=a[t]||e(t)}var r=this,a={},o={},i={};r.left=function(e){return o[e]=o[e]===t?n(e).position().left:o[e]},r.right=function(e){return i[e]=i[e]===t?r.left(e)+n(e).width():i[e]},r.clear=function(){a={},o={},i={}}}var xt={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Nt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Wt=e.fullCalendar={version:"1.6.4.1"},Ht=Wt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=e.data(this,"fullCalendar");if(r&&e.isFunction(r[n])){var i=r[n].apply(r,o);a===t&&(a=i),"destroy"==n&&e.removeData(this,"fullCalendar")}}),a!==t?a:this}n=n||{};var i=n.eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=e.extend(!0,{},xt,n.isRTL||n.isRTL===t&&xt.isRTL?Nt:{},n),this.each(function(t,a){var o=e(a),s=new r(o,n,i);o.data("fullCalendar",s),s.render()}),this},Wt.sourceNormalizers=[],Wt.sourceFetchers=[];var Ft={dataType:"json",cache:!1},zt=1;Wt.addDays=u,Wt.cloneDate=v,Wt.parseDate=y,Wt.parseISO8601=m,Wt.parseTime=D,Wt.formatDate=w,Wt.formatDates=b;var Ot=["sun","mon","tue","wed","thu","fri","sat"],Lt=864e5,At=36e5,qt=6e4,Pt={s:function(e){return e.getSeconds()},ss:function(e){return P(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return P(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return P(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return P(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return P(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return P(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return w(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return M(e)}};Wt.dateFormatters=Pt,Wt.applyAll=V,Ht.month=J,Ht.basicWeek=U,Ht.basicDay=Z,n({weekMode:"fixed"}),Ht.agendaWeek=Q,Ht.agendaDay=K,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0}),Ht.resourceMonth=dt,Ht.resourceWeek=vt,Ht.resourceNextWeeks=ht,Ht.resourceDay=gt,n({weekMode:"fixed",titleFormat:{resourceMonth:"MMMM yyyy",resourceWeek:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceNextWeeks:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceDay:"dddd, MMM d, yyyy"},columnFormat:{resourceDay:"H:mm",resourceMonth:"M/d",resourceWeek:"ddd M/d",resourceNextWeeks:"ddd M/d"},buttonText:{largePrev:"<span class='fc-text-arrow'>&laquo;</span>",largeNext:"<span class='fc-text-arrow'>&raquo;</span>",resourceDay:"resource day",resourceWeek:"resource week",resourceNextWeeks:"resource next weeks",resourceMonth:"resource month"},refetchResources:!1,numberOfWeeks:4,paginateResourceWeek:7,paginateResourceNextWeeks:7,paginateResourceMonth:"month"})})(jQuery);