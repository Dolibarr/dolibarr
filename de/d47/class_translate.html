<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dolibarr: Translate Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="dolibarr"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dolibarr
   &#160;<span id="projectnumber">x.y.z</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="../../search.php" method="get">
              <img id="MSearchSelect" src="../../search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="../../d8/d63/class_translate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Translate Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage translations.  
 <a href="../../de/d47/class_translate.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af58289b3be7de1698e3971d00836be43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#af58289b3be7de1698e3971d00836be43">__construct</a> ($dir, $<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>)</td></tr>
<tr class="memdesc:af58289b3be7de1698e3971d00836be43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="../../de/d47/class_translate.html#af58289b3be7de1698e3971d00836be43">More...</a><br /></td></tr>
<tr class="separator:af58289b3be7de1698e3971d00836be43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3865d9106d8a1e53ea014a63dc41d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a7b3865d9106d8a1e53ea014a63dc41d1">setDefaultLang</a> ($srclang='en_US')</td></tr>
<tr class="memdesc:a7b3865d9106d8a1e53ea014a63dc41d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set accessor for this-&gt;defaultlang.  <a href="../../de/d47/class_translate.html#a7b3865d9106d8a1e53ea014a63dc41d1">More...</a><br /></td></tr>
<tr class="separator:a7b3865d9106d8a1e53ea014a63dc41d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffa5ac1205b0137ca6388545a44bb58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aeffa5ac1205b0137ca6388545a44bb58">getDefaultLang</a> ($mode=0)</td></tr>
<tr class="memdesc:aeffa5ac1205b0137ca6388545a44bb58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return active language code for current user It's an accessor for this-&gt;defaultlang.  <a href="../../de/d47/class_translate.html#aeffa5ac1205b0137ca6388545a44bb58">More...</a><br /></td></tr>
<tr class="separator:aeffa5ac1205b0137ca6388545a44bb58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadd9b81332c7620e8a6f2b9843a6e54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#acadd9b81332c7620e8a6f2b9843a6e54">loadLangs</a> ($domains)</td></tr>
<tr class="memdesc:acadd9b81332c7620e8a6f2b9843a6e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation files.  <a href="../../de/d47/class_translate.html#acadd9b81332c7620e8a6f2b9843a6e54">More...</a><br /></td></tr>
<tr class="separator:acadd9b81332c7620e8a6f2b9843a6e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83923d6e741a7e330b4cd2b59e934d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ab83923d6e741a7e330b4cd2b59e934d5">load</a> ($domain, $alt=0, $stopafterdirection=0, $forcelangdir='', $loadfromfileonly=0, $forceloadifalreadynotfound=0)</td></tr>
<tr class="memdesc:ab83923d6e741a7e330b4cd2b59e934d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation key-value for a particular file, into a memory array.  <a href="../../de/d47/class_translate.html#ab83923d6e741a7e330b4cd2b59e934d5">More...</a><br /></td></tr>
<tr class="separator:ab83923d6e741a7e330b4cd2b59e934d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd37aff94db1f66c7c62abf2a27df00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#adbd37aff94db1f66c7c62abf2a27df00">loadFromDatabase</a> ($<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>)</td></tr>
<tr class="memdesc:adbd37aff94db1f66c7c62abf2a27df00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation key-value from database into a memory array.  <a href="../../de/d47/class_translate.html#adbd37aff94db1f66c7c62abf2a27df00">More...</a><br /></td></tr>
<tr class="separator:adbd37aff94db1f66c7c62abf2a27df00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab621406c1c7f981dcb259f218bb1d826"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ab621406c1c7f981dcb259f218bb1d826">isLoaded</a> ($domain)</td></tr>
<tr class="memdesc:ab621406c1c7f981dcb259f218bb1d826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information with result of loading data for domain.  <a href="../../de/d47/class_translate.html#ab621406c1c7f981dcb259f218bb1d826">More...</a><br /></td></tr>
<tr class="separator:ab621406c1c7f981dcb259f218bb1d826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83c1707715edd7965e7a2f5269771c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ab83c1707715edd7965e7a2f5269771c6">trans</a> ($key, $param1='', $param2='', $param3='', $param4='', $maxsize=0)</td></tr>
<tr class="memdesc:ab83c1707715edd7965e7a2f5269771c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return text translated of text received as parameter (and encode it into HTML) If there is no match for this text, we look in alternative file and if still not found, it is returned as it is.  <a href="../../de/d47/class_translate.html#ab83c1707715edd7965e7a2f5269771c6">More...</a><br /></td></tr>
<tr class="separator:ab83c1707715edd7965e7a2f5269771c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168fbb95ba266d71e4ff84110f3708e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a168fbb95ba266d71e4ff84110f3708e9">transnoentities</a> ($key, $param1='', $param2='', $param3='', $param4='', $param5='')</td></tr>
<tr class="memdesc:a168fbb95ba266d71e4ff84110f3708e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of a text string If there is no match for this text, we look in alternative file and if still not found it is returned as is.  <a href="../../de/d47/class_translate.html#a168fbb95ba266d71e4ff84110f3708e9">More...</a><br /></td></tr>
<tr class="separator:a168fbb95ba266d71e4ff84110f3708e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24db2be3edf39795dc5d6b47a70f1562"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a24db2be3edf39795dc5d6b47a70f1562">transnoentitiesnoconv</a> ($key, $param1='', $param2='', $param3='', $param4='', $param5='')</td></tr>
<tr class="memdesc:a24db2be3edf39795dc5d6b47a70f1562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of a text string If there is no match for this text, we look in alternative file and if still not found, it is returned as is.  <a href="../../de/d47/class_translate.html#a24db2be3edf39795dc5d6b47a70f1562">More...</a><br /></td></tr>
<tr class="separator:a24db2be3edf39795dc5d6b47a70f1562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953d64a2eaf48f3bb9e01b304ab318ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a953d64a2eaf48f3bb9e01b304ab318ba">transcountry</a> ($str, $countrycode)</td></tr>
<tr class="memdesc:a953d64a2eaf48f3bb9e01b304ab318ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translation of a key depending on country.  <a href="../../de/d47/class_translate.html#a953d64a2eaf48f3bb9e01b304ab318ba">More...</a><br /></td></tr>
<tr class="separator:a953d64a2eaf48f3bb9e01b304ab318ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc56c158f2ce19efa74cc5637ff6850b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#abc56c158f2ce19efa74cc5637ff6850b">transcountrynoentities</a> ($str, $countrycode)</td></tr>
<tr class="memdesc:abc56c158f2ce19efa74cc5637ff6850b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retourne la version traduite du texte passe en parametre complete du code pays.  <a href="../../de/d47/class_translate.html#abc56c158f2ce19efa74cc5637ff6850b">More...</a><br /></td></tr>
<tr class="separator:abc56c158f2ce19efa74cc5637ff6850b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5451405b73951830cf4cb9e26c7032f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ad5451405b73951830cf4cb9e26c7032f">convToOutputCharset</a> ($str, $pagecodefrom='UTF-8')</td></tr>
<tr class="memdesc:ad5451405b73951830cf4cb9e26c7032f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string into output charset (this-&gt;charset_output that should be defined to conf-&gt;file-&gt;character_set_client)  <a href="../../de/d47/class_translate.html#ad5451405b73951830cf4cb9e26c7032f">More...</a><br /></td></tr>
<tr class="separator:ad5451405b73951830cf4cb9e26c7032f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6168f15b55de54512aed8866cee9f64d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a6168f15b55de54512aed8866cee9f64d">get_available_languages</a> ($langdir=DOL_DOCUMENT_ROOT, $maxlength=0, $usecode=0, $mainlangonly=0)</td></tr>
<tr class="memdesc:a6168f15b55de54512aed8866cee9f64d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return list of all available languages.  <a href="../../de/d47/class_translate.html#a6168f15b55de54512aed8866cee9f64d">More...</a><br /></td></tr>
<tr class="separator:a6168f15b55de54512aed8866cee9f64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bbeb2793c7aaf742176a377c123606"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a87bbeb2793c7aaf742176a377c123606">file_exists</a> ($filename, $searchalt=0)</td></tr>
<tr class="memdesc:a87bbeb2793c7aaf742176a377c123606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if a filename $filename exists for current language (or alternate language)  <a href="../../de/d47/class_translate.html#a87bbeb2793c7aaf742176a377c123606">More...</a><br /></td></tr>
<tr class="separator:a87bbeb2793c7aaf742176a377c123606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30beb8319eaedf4b4575c94b2c825bb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a30beb8319eaedf4b4575c94b2c825bb6">getLabelFromNumber</a> ($number, $isamount='')</td></tr>
<tr class="memdesc:a30beb8319eaedf4b4575c94b2c825bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return full text translated to language label for a key.  <a href="../../de/d47/class_translate.html#a30beb8319eaedf4b4575c94b2c825bb6">More...</a><br /></td></tr>
<tr class="separator:a30beb8319eaedf4b4575c94b2c825bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de341100e3ee4e7be1fc416d2646e5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a4de341100e3ee4e7be1fc416d2646e5f">getLabelFromKey</a> ($<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>, $key, $tablename, $fieldkey, $fieldlabel, $keyforselect='', $filteronentity=0)</td></tr>
<tr class="memdesc:a4de341100e3ee4e7be1fc416d2646e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a label for a key.  <a href="../../de/d47/class_translate.html#a4de341100e3ee4e7be1fc416d2646e5f">More...</a><br /></td></tr>
<tr class="separator:a4de341100e3ee4e7be1fc416d2646e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3893777ed96fc0f31708546dfd5b44d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a3893777ed96fc0f31708546dfd5b44d3">getCurrencyAmount</a> ($currency_code, $amount)</td></tr>
<tr class="memdesc:a3893777ed96fc0f31708546dfd5b44d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a currency code into its symbol.  <a href="../../de/d47/class_translate.html#a3893777ed96fc0f31708546dfd5b44d3">More...</a><br /></td></tr>
<tr class="separator:a3893777ed96fc0f31708546dfd5b44d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b49d61ddaab54bf6c32e9b2cc5f559"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ac4b49d61ddaab54bf6c32e9b2cc5f559">getCurrencySymbol</a> ($currency_code, $forceloadall=0)</td></tr>
<tr class="memdesc:ac4b49d61ddaab54bf6c32e9b2cc5f559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a currency code into its symbol.  <a href="../../de/d47/class_translate.html#ac4b49d61ddaab54bf6c32e9b2cc5f559">More...</a><br /></td></tr>
<tr class="separator:ac4b49d61ddaab54bf6c32e9b2cc5f559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be71f7d487d9528de7cbbe1d6716888"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a6be71f7d487d9528de7cbbe1d6716888">loadCacheCurrencies</a> ($currency_code)</td></tr>
<tr class="memdesc:a6be71f7d487d9528de7cbbe1d6716888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load into the cache this-&gt;cache_currencies, all currencies.  <a href="../../de/d47/class_translate.html#a6be71f7d487d9528de7cbbe1d6716888">More...</a><br /></td></tr>
<tr class="separator:a6be71f7d487d9528de7cbbe1d6716888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38937aef5b70d62a5c481ba0993ba548"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a38937aef5b70d62a5c481ba0993ba548">get_translations_for_substitutions</a> ()</td></tr>
<tr class="memdesc:a38937aef5b70d62a5c481ba0993ba548"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with content of all loaded translation keys (found into this-&gt;tab_translate) so we get a substitution array we can use for substitutions (for mail or ODT generation for example)  <a href="../../de/d47/class_translate.html#a38937aef5b70d62a5c481ba0993ba548">More...</a><br /></td></tr>
<tr class="separator:a38937aef5b70d62a5c481ba0993ba548"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a25aa1a5f6c0df7fbbcaa3ade02ca304e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a25aa1a5f6c0df7fbbcaa3ade02ca304e">getTradFromKey</a> ($key)</td></tr>
<tr class="memdesc:a25aa1a5f6c0df7fbbcaa3ade02ca304e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of key for special keys ("Currency...", "Civility...", ...).  <a href="../../de/d47/class_translate.html#a25aa1a5f6c0df7fbbcaa3ade02ca304e">More...</a><br /></td></tr>
<tr class="separator:a25aa1a5f6c0df7fbbcaa3ade02ca304e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage translations. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00030">30</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af58289b3be7de1698e3971d00836be43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58289b3be7de1698e3971d00836be43">&#9670;&nbsp;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dir</td><td>Force directory that contains /langs subdirectory (value is sometimes '..' like into install/* pages or support/* pages). Use '' by default. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d29/class_conf.html" title="Class to stock current configuration.">Conf</a></td><td class="paramname">$conf</td><td>Object with Dolibarr configuration </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00052">52</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad5451405b73951830cf4cb9e26c7032f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5451405b73951830cf4cb9e26c7032f">&#9670;&nbsp;</a></span>convToOutputCharset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::convToOutputCharset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pagecodefrom</em> = <code>'UTF-8'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string into output charset (this-&gt;charset_output that should be defined to conf-&gt;file-&gt;character_set_client) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>String to convert </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$pagecodefrom</td><td>Page code of src string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Converted string </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00779">779</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a87bbeb2793c7aaf742176a377c123606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bbeb2793c7aaf742176a377c123606">&#9670;&nbsp;</a></span>file_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::file_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searchalt</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if a filename $filename exists for current language (or alternate language) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>Language filename to search </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$searchalt</td><td>Search also alernate language file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean true if exists and readable </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00881">881</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a6168f15b55de54512aed8866cee9f64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6168f15b55de54512aed8866cee9f64d">&#9670;&nbsp;</a></span>get_available_languages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::get_available_languages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$langdir</em> = <code>DOL_DOCUMENT_ROOT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxlength</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$usecode</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mainlangonly</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return list of all available languages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$langdir</td><td>Directory to scan </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$maxlength</td><td>Max length for each value in combo box (will be truncated) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$usecode</td><td>1=Show code instead of country name for language variant, 2=Show only code </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$mainlangonly</td><td>1=Show only main languages ('fr_FR' no' fr_BE', 'es_ES' not 'es_MX', ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array List of languages </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00801">801</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a38937aef5b70d62a5c481ba0993ba548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38937aef5b70d62a5c481ba0993ba548">&#9670;&nbsp;</a></span>get_translations_for_substitutions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::get_translations_for_substitutions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return an array with content of all loaded translation keys (found into this-&gt;tab_translate) so we get a substitution array we can use for substitutions (for mail or ODT generation for example) </p>
<dl class="section return"><dt>Returns</dt><dd>array Array of translation keys lang_key =&gt; string_translation_loaded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01126">1126</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a3893777ed96fc0f31708546dfd5b44d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3893777ed96fc0f31708546dfd5b44d3">&#9670;&nbsp;</a></span>getCurrencyAmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getCurrencyAmount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a currency code into its symbol. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Currency Code </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$amount</td><td>If not '', show currency + amount according to langs ($10, 10â‚¬). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Amount + Currency symbol encoded into UTF8 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000133">Deprecated:</a></b></dt><dd>Use method price to output a price </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d69/functions_8lib_8php.html#a4f4158875f7336eb9999442262e48eee" title="Function to format a value into an amount for visual output Function used into PDF and HTML pages.">price()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01020">1020</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="ac4b49d61ddaab54bf6c32e9b2cc5f559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b49d61ddaab54bf6c32e9b2cc5f559">&#9670;&nbsp;</a></span>getCurrencySymbol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getCurrencySymbol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forceloadall</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a currency code into its symbol. </p>
<p>If mb_convert_encoding is not available, return currency code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Currency code </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$forceloadall</td><td>1=Force to load all currencies into cache. We know we need to use all of them. By default read and cache only the requested currency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Currency symbol encoded into UTF8 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01039">1039</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01062">loadCacheCurrencies()</a>.</p>

</div>
</div>
<a id="aeffa5ac1205b0137ca6388545a44bb58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffa5ac1205b0137ca6388545a44bb58">&#9670;&nbsp;</a></span>getDefaultLang()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getDefaultLang </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mode</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return active language code for current user It's an accessor for this-&gt;defaultlang. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$mode</td><td>0=Long language code, 1=Short language code (en, fr, es, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Language code used (en_US, en_AU, fr_FR, ...) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00152">152</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a4de341100e3ee4e7be1fc416d2646e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de341100e3ee4e7be1fc416d2646e5f">&#9670;&nbsp;</a></span>getLabelFromKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getLabelFromKey </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tablename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldlabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$keyforselect</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filteronentity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a label for a key. </p>
<p>Search into translation array, then into cache, then if still not found, search into database. Store key-label found into cache variable $this-&gt;cache_labels to save SQL requests to get labels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../db/d98/class_doli_d_b.html" title="Class to manage Dolibarr database access.">DoliDB</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database.">Database</a> handler </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Translation key to get label (key in language file) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Table name without prefix. This value must always be a hardcoded string and not a value coming from user input. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldkey</td><td>Field for key. This value must always be a hardcoded string and not a value coming from user input. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldlabel</td><td>Field for label. This value must always be a hardcoded string and not a value coming from user input. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$keyforselect</td><td>Use another value than the translation key for the where into select </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$filteronentity</td><td>Use a filter on entity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Label in UTF8 (but without entities) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d69/functions_8lib_8php.html#a65fca29f02fbc39586fa4962c49e8102" title="Return an id or code from a code or id.">dol_getIdFromCode()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00960">960</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a30beb8319eaedf4b4575c94b2c825bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30beb8319eaedf4b4575c94b2c825bb6">&#9670;&nbsp;</a></span>getLabelFromNumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getLabelFromNumber </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$isamount</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return full text translated to language label for a key. </p>
<p>Store key-label in a cache. This function need module "numberwords" to be installed. If not it will return same number (this module is not provided by default as it use non GPL source code).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;string</td><td class="paramname">$number</td><td>Number to encode in full text </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$isamount</td><td>''=it's just a number, '1'=It's an amount (default currency), 'currencycode'=It's an amount (foreign currency) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Label translated in UTF8 (but without entities) 10 if setDefaultLang was en_US =&gt; ten 123 if setDefaultLang was fr_FR =&gt; cent vingt trois </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00917">917</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="a25aa1a5f6c0df7fbbcaa3ade02ca304e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25aa1a5f6c0df7fbbcaa3ade02ca304e">&#9670;&nbsp;</a></span>getTradFromKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Translate::getTradFromKey </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return translated value of key for special keys ("Currency...", "Civility...", ...). </p>
<p>Search in lang file, then into database. Key must be any complete entry into lang file: CurrencyEUR, ... If not found, return key. The string return is not formated (translated with transnoentitiesnoconv). NOTE: To avoid infinite loop (getLabelFromKey-&gt;transnoentities-&gt;getTradFromKey-&gt;getLabelFromKey), if you modify this function, check that getLabelFromKey is never called with the same value than $key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (translated with transnoentitiesnoconv) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00565">565</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="ab621406c1c7f981dcb259f218bb1d826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab621406c1c7f981dcb259f218bb1d826">&#9670;&nbsp;</a></span>isLoaded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::isLoaded </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information with result of loading data for domain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$domain</td><td>Domain to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0, 1, 2... </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00549">549</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="ab83923d6e741a7e330b4cd2b59e934d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83923d6e741a7e330b4cd2b59e934d5">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$alt</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$stopafterdirection</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forcelangdir</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadfromfileonly</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forceloadifalreadynotfound</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation key-value for a particular file, into a memory array. </p>
<p>If data for file already loaded, do nothing. All data in translation array are stored in UTF-8 format. tab_loaded is completed with $domain key. rule "we keep first entry found with we keep last entry found" so it is probably not what you want to do.</p>
<p>Value for hash are: 1:Loaded from disk, 2:Not found, 3:Loaded from cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$domain</td><td>File name to load (.lang file). Must be "file" or "file@module" for module language files: If $domain is "file@module" instead of "file" then we look for module lang file in htdocs/custom/modules/mymodule/langs/code_CODE/file.lang then in htdocs/module/langs/code_CODE/file.lang instead of htdocs/langs/code_CODE/file.lang </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$alt</td><td>0 (try xx_ZZ then 1), 1 (try xx_XX then 2), 2 (try en_US) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$stopafterdirection</td><td>Stop when the DIRECTION tag is found (optimize speed) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forcelangdir</td><td>To force a different lang directory </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$loadfromfileonly</td><td>1=Do not load overwritten translation from file or old conf. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forceloadifalreadynotfound</td><td>Force attempt to reload lang file if it was previously not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d47/class_translate.html#acadd9b81332c7620e8a6f2b9843a6e54" title="Load translation files.">loadLangs()</a> </dd></dl>
<p>Read each lines until a '=' (with any combination of spaces around it) and split the rest until a line feed. This is more efficient than fgets + explode + trim by a factor of ~2.</p>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00196">196</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00168">loadLangs()</a>.</p>

</div>
</div>
<a id="a6be71f7d487d9528de7cbbe1d6716888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6be71f7d487d9528de7cbbe1d6716888">&#9670;&nbsp;</a></span>loadCacheCurrencies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::loadCacheCurrencies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load into the cache this-&gt;cache_currencies, all currencies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Get only currency. Get all if ''. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Nb of loaded lines, 0 if already loaded, &lt;0 if KO </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01062">1062</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01039">getCurrencySymbol()</a>.</p>

</div>
</div>
<a id="adbd37aff94db1f66c7c62abf2a27df00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd37aff94db1f66c7c62abf2a27df00">&#9670;&nbsp;</a></span>loadFromDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::loadFromDatabase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation key-value from database into a memory array. </p>
<p>If data already loaded, do nothing. All data in translation array are stored in UTF-8 format. tab_loaded is completed with $domain key. rule "we keep first entry found with we keep last entry found" so it is probably not what you want to do.</p>
<p>Value for hash are: 1:Loaded from disk, 2:Not found, 3:Loaded from cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database.">Database</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database.">Database</a> handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00422">422</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="acadd9b81332c7620e8a6f2b9843a6e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acadd9b81332c7620e8a6f2b9843a6e54">&#9670;&nbsp;</a></span>loadLangs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::loadLangs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$domains</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$domains</td><td>Array of lang files to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00168">168</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00196">load()</a>.</p>

</div>
</div>
<a id="a7b3865d9106d8a1e53ea014a63dc41d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3865d9106d8a1e53ea014a63dc41d1">&#9670;&nbsp;</a></span>setDefaultLang()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::setDefaultLang </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$srclang</em> = <code>'en_US'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set accessor for this-&gt;defaultlang. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$srclang</td><td>Language to use. If '' or 'auto', we use browser lang. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00071">71</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a id="ab83c1707715edd7965e7a2f5269771c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83c1707715edd7965e7a2f5269771c6">&#9670;&nbsp;</a></span>trans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::trans </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxsize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return text translated of text received as parameter (and encode it into HTML) If there is no match for this text, we look in alternative file and if still not found, it is returned as it is. </p>
<p>The parameters of this method should not contain HTML tags. If there is, they will be htmlencoded to have no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>param1 string </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>param2 string </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>param3 string </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>param4 string </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxsize</td><td>Max length of text. Warning: Will not work if paramX has HTML content. deprecated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (encoded into HTML entities and UTF8) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00614">614</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00744">transcountry()</a>.</p>

</div>
</div>
<a id="a953d64a2eaf48f3bb9e01b304ab318ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953d64a2eaf48f3bb9e01b304ab318ba">&#9670;&nbsp;</a></span>transcountry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::transcountry </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$countrycode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translation of a key depending on country. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>string root to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countrycode</td><td>country code (FR, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string translated string </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d47/class_translate.html#abc56c158f2ce19efa74cc5637ff6850b" title="Retourne la version traduite du texte passe en parametre complete du code pays.">transcountrynoentities()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php.html#a15897ead0ed9fdab27a2ff8d595b1302" title="Return img flag of country for a language code or country code.">picto_from_langcode()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00744">744</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00614">trans()</a>.</p>

</div>
</div>
<a id="abc56c158f2ce19efa74cc5637ff6850b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc56c158f2ce19efa74cc5637ff6850b">&#9670;&nbsp;</a></span>transcountrynoentities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::transcountrynoentities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$countrycode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retourne la version traduite du texte passe en parametre complete du code pays. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>string root to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countrycode</td><td>country code (FR, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string translated string </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d47/class_translate.html#a953d64a2eaf48f3bb9e01b304ab318ba" title="Return translation of a key depending on country.">transcountry()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php.html#a15897ead0ed9fdab27a2ff8d595b1302" title="Return img flag of country for a language code or country code.">picto_from_langcode()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00762">762</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00683">transnoentities()</a>.</p>

</div>
</div>
<a id="a168fbb95ba266d71e4ff84110f3708e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168fbb95ba266d71e4ff84110f3708e9">&#9670;&nbsp;</a></span>transnoentities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::transnoentities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param5</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translated value of a text string If there is no match for this text, we look in alternative file and if still not found it is returned as is. </p>
<p>Parameters of this method must not contain any HTML tags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>chaine de param1 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>chaine de param2 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>chaine de param3 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>chaine de param4 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param5</td><td>chaine de param5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (encoded into UTF8) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00683">683</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00762">transcountrynoentities()</a>.</p>

</div>
</div>
<a id="a24db2be3edf39795dc5d6b47a70f1562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24db2be3edf39795dc5d6b47a70f1562">&#9670;&nbsp;</a></span>transnoentitiesnoconv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Translate::transnoentitiesnoconv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param5</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translated value of a text string If there is no match for this text, we look in alternative file and if still not found, it is returned as is. </p>
<p>No conversion to encoding charset of lang object is done. Parameters of this method must not contains any HTML tags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>chaine de param1 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>chaine de param2 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>chaine de param3 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>chaine de param4 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param5</td><td>chaine de param5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00704">704</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>htdocs/core/class/<a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a></li>
</ul>
</div><!-- contents -->
<!-- 
File added into doxygen generated documentation
-->
<hr class="footer" />
<address class="footer"><small>Generated on Mon Jan 2 2023 03:37:57 for <a href="https://www.dolibarr.org" title="ERP and CRM open source software">dolibarr</a> by Doxygen 1.9.1 </small></address>
<br>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9049390-16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-9049390-16');
</script>
</body>
</html>