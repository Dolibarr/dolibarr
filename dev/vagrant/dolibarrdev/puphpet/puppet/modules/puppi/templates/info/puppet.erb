#!/bin/bash
# <%= @description %>
# Script generated by Puppet. It's executed when you run:
# puppi info <%= @name %>
#
# Sources common header for Puppi scripts
. <%= scope.lookupvar('puppi::params::scriptsdir') %>/header || exit 10

# Show Puppet info
echo_title "$HOSTNAME - <%= @name %>: Information on management with Puppet"
echo "Where to configure this node in Puppet:"
echo "manifests/nodes/<%= @site %>.pp - Node's definition"
echo "manifests/roles/role_<%= @role %>.pp - Role's definition"
echo "modules/<modulename>/manifests/init.pp - Main class for each module"
echo

# Show ReadMe file
echo_title "$HOSTNAME - <%= @name %>: ReadMe"
show_command "cat <%= scope.lookupvar('puppi::params::readmedir') %>/<%= @name %>"

<% if @autoreadme == "yes" %>
echo_title "$HOSTNAME - <%= @name %>: ReadMe Custom"
show_command "cat <%= scope.lookupvar('puppi::params::readmedir') %>/<%= @name %>-custom"
<% end %>

<% if @run != "" %>
echo_title "$HOSTNAME - <%= @name %>: Extra info"
<% @run.each do |cmd| %>show_command "<%= cmd %>"
<% end %>
<% end %>
